

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <!-- ÈÄöËøácdnÂºïÂÖ•ÈúûÈπ≠ÊñáÊ•∑Â≠ó‰Ωì -->
  <link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css" media="print"
    onload="this.media='all'">
  <link rel="apple-touch-icon" sizes="76x76" href="/image/beautify/favicon.ico">
  <link rel="icon" href="/image/beautify/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Vickkkyz">
  <meta name="keywords" content="">
  
    <meta name="description" content="Âú® MySQL ‰∏≠ÔºåÂè™ÊúâInnoDB ÊòØÊîØÊåÅ‰∫ãÂä°ÁöÑ„ÄÇ  1.‰ªÄ‰πàÊòØ‰∫ãÂä°‰∫ãÂä°Ôºö‰∏ÄÁªÑÈÄªËæëÊìç‰ΩúÂçïÂÖÉÔºå‰ΩøÊï∞ÊçÆ‰ªé‰∏ÄÁßçÁä∂ÊÄÅÂèòÊç¢Âà∞Âè¶‰∏ÄÁßçÁä∂ÊÄÅ„ÄÇËøôÈáåÁöÑ‰∏ÄÁªÑÊìç‰ΩúÂ∞±ÊòØÂú®ÂºÄÂêØ‰∫ãÂä°ÂêéËøõË°å‰∫Ü‰∏Ä‰∫õÂ¢ûÂà†ÊîπÊìç‰ΩúÔºåÂç≥‰∫ãÂä°ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÇ ‰∫ãÂä°Â§ÑÁêÜÁöÑÂéüÂàôÔºö‰øùËØÅÊâÄÊúâ‰∫ãÂä°ÈÉΩ‰Ωú‰∏∫ ‰∏Ä‰∏™Â∑•‰ΩúÂçïÂÖÉ Êù•ÊâßË°åÔºåÂç≥‰ΩøÂá∫Áé∞‰∫ÜÊïÖÈöúÔºåÈÉΩ‰∏çËÉΩÊîπÂèòËøôÁßçÊâßË°åÊñπÂºè„ÄÇÂΩìÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÊâßË°åÂ§ö‰∏™Êìç‰ΩúÊó∂ÔºåË¶Å‰πàÊâÄÊúâÁöÑ‰∫ãÂä°ÈÉΩË¢´Êèê‰∫§( commit )ÔºåÈÇ£‰πàËøô‰∫õ‰øÆÊîπ">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL-‰∫ãÂä°">
<meta property="og:url" content="https://vickkkyz.fun/2022/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/%E4%BA%8B%E5%8A%A1/index.html">
<meta property="og:site_name" content="Vickkkyz&#39;s Home">
<meta property="og:description" content="Âú® MySQL ‰∏≠ÔºåÂè™ÊúâInnoDB ÊòØÊîØÊåÅ‰∫ãÂä°ÁöÑ„ÄÇ  1.‰ªÄ‰πàÊòØ‰∫ãÂä°‰∫ãÂä°Ôºö‰∏ÄÁªÑÈÄªËæëÊìç‰ΩúÂçïÂÖÉÔºå‰ΩøÊï∞ÊçÆ‰ªé‰∏ÄÁßçÁä∂ÊÄÅÂèòÊç¢Âà∞Âè¶‰∏ÄÁßçÁä∂ÊÄÅ„ÄÇËøôÈáåÁöÑ‰∏ÄÁªÑÊìç‰ΩúÂ∞±ÊòØÂú®ÂºÄÂêØ‰∫ãÂä°ÂêéËøõË°å‰∫Ü‰∏Ä‰∫õÂ¢ûÂà†ÊîπÊìç‰ΩúÔºåÂç≥‰∫ãÂä°ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÇ ‰∫ãÂä°Â§ÑÁêÜÁöÑÂéüÂàôÔºö‰øùËØÅÊâÄÊúâ‰∫ãÂä°ÈÉΩ‰Ωú‰∏∫ ‰∏Ä‰∏™Â∑•‰ΩúÂçïÂÖÉ Êù•ÊâßË°åÔºåÂç≥‰ΩøÂá∫Áé∞‰∫ÜÊïÖÈöúÔºåÈÉΩ‰∏çËÉΩÊîπÂèòËøôÁßçÊâßË°åÊñπÂºè„ÄÇÂΩìÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÊâßË°åÂ§ö‰∏™Êìç‰ΩúÊó∂ÔºåË¶Å‰πàÊâÄÊúâÁöÑ‰∫ãÂä°ÈÉΩË¢´Êèê‰∫§( commit )ÔºåÈÇ£‰πàËøô‰∫õ‰øÆÊîπ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql50.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql51.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql52.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql53.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql54.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql55.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql55.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql64.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql57.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql58.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql61.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql59.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql60.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql62.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql63.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql65.png">
<meta property="article:published_time" content="2022-04-07T01:03:53.000Z">
<meta property="article:modified_time" content="2023-01-26T08:59:21.609Z">
<meta property="article:author" content="Vickkkyz">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Êï∞ÊçÆÂ∫ìÈ´òÁ∫ß">
<meta property="article:tag" content="‰∫ãÂä°">
<meta property="article:tag" content="Êó•Âøó">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://vickkkyz.fun/image/mysql/mysql50.png">
  
  
  
  <title>MySQL-‰∫ãÂä° - Vickkkyz&#39;s Home</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/cloudedGlass.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"vickkkyz.fun","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"üç≠","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/image/beautify/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <!--ÊµèËßàÂô®ÊêûÁ¨ëÊ†áÈ¢ò-->
  <script type="text/javascript" src="\js\FunnyTitle.js"></script>

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Vickkkyz„ÅÆBlog(*/œâÔºº*)</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>È¶ñÈ°µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Êó∂Èó¥ËΩ¥</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>ÂàÜÁ±ª</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>ÂÖ≥‰∫éÊàë</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/image/homePage/paperDefault5.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.2)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQL-‰∫ãÂä°"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-04-07 09:03" pubdate>
          2022Âπ¥4Êúà7Êó• ‰∏äÂçà
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.1k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          35 ÂàÜÈíü
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">MySQL-‰∫ãÂä°</h1>
            
            
              <div class="markdown-body">
                
                <p>Âú® MySQL ‰∏≠ÔºåÂè™Êúâ<code>InnoDB ÊòØÊîØÊåÅ‰∫ãÂä°ÁöÑ</code>„ÄÇ</p>
<p><img src="/image/mysql/mysql50.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h1 id="1-‰ªÄ‰πàÊòØ‰∫ãÂä°"><a href="#1-‰ªÄ‰πàÊòØ‰∫ãÂä°" class="headerlink" title="1.‰ªÄ‰πàÊòØ‰∫ãÂä°"></a>1.‰ªÄ‰πàÊòØ‰∫ãÂä°</h1><p><strong>‰∫ãÂä°</strong>Ôºö‰∏ÄÁªÑÈÄªËæëÊìç‰ΩúÂçïÂÖÉÔºå‰ΩøÊï∞ÊçÆ‰ªé‰∏ÄÁßçÁä∂ÊÄÅÂèòÊç¢Âà∞Âè¶‰∏ÄÁßçÁä∂ÊÄÅ„ÄÇËøôÈáåÁöÑ‰∏ÄÁªÑÊìç‰ΩúÂ∞±ÊòØÂú®ÂºÄÂêØ‰∫ãÂä°ÂêéËøõË°å‰∫Ü‰∏Ä‰∫õÂ¢ûÂà†ÊîπÊìç‰ΩúÔºåÂç≥‰∫ãÂä°ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÇ</p>
<p><strong>‰∫ãÂä°Â§ÑÁêÜÁöÑÂéüÂàôÔºö</strong>‰øùËØÅÊâÄÊúâ‰∫ãÂä°ÈÉΩ‰Ωú‰∏∫ ‰∏Ä‰∏™Â∑•‰ΩúÂçïÂÖÉ Êù•ÊâßË°åÔºåÂç≥‰ΩøÂá∫Áé∞‰∫ÜÊïÖÈöúÔºåÈÉΩ‰∏çËÉΩÊîπÂèòËøôÁßçÊâßË°åÊñπÂºè„ÄÇÂΩìÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÊâßË°åÂ§ö‰∏™Êìç‰ΩúÊó∂ÔºåË¶Å‰πàÊâÄÊúâÁöÑ‰∫ãÂä°ÈÉΩË¢´Êèê‰∫§( commit )ÔºåÈÇ£‰πàËøô‰∫õ‰øÆÊîπÂ∞± Ê∞∏‰πÖ Âú∞‰øùÂ≠ò‰∏ãÊù•ÔºõË¶Å‰πàÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüÂ∞Ü ÊîæÂºÉ ÊâÄ‰ΩúÁöÑÊâÄÊúâ ‰øÆÊîπ ÔºåÊï¥‰∏™‰∫ãÂä°ÂõûÊªö( rollback )Âà∞ÊúÄÂàùÁä∂ÊÄÅ„ÄÇ</p>
<h1 id="2-‰∫ãÂä°ÁöÑÁä∂ÊÄÅ"><a href="#2-‰∫ãÂä°ÁöÑÁä∂ÊÄÅ" class="headerlink" title="2.‰∫ãÂä°ÁöÑÁä∂ÊÄÅ"></a>2.‰∫ãÂä°ÁöÑÁä∂ÊÄÅ</h1><p>MySQLÊ†πÊçÆËøô‰∫õÂ¢ûÂà†ÊîπÊìç‰ΩúÊâÄÊâßË°åÁöÑ‰∏çÂêåÈò∂ÊÆµÊää <code>‰∫ãÂä°</code> Â§ßËá¥ÂàíÂàÜÊàêÂá†‰∏™Áä∂ÊÄÅÔºö</p>
<ul>
<li><p><strong>Ê¥ªÂä®ÁöÑ</strong>ÔºàactiveÔºâ</p>
<p>‰∫ãÂä°ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊ≠£Âú®ÊâßË°åËøáÁ®ã‰∏≠Êó∂ÔºåÊàë‰ª¨Â∞±ËØ¥ËØ•‰∫ãÂä°Â§ÑÂú® <code>Ê¥ªÂä®ÁöÑ</code> Áä∂ÊÄÅ„ÄÇ</p>
</li>
<li><p><strong>ÈÉ®ÂàÜÊèê‰∫§ÁöÑ</strong>Ôºàpartially committedÔºâ</p>
<p>ÂΩì‰∫ãÂä°‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™Êìç‰ΩúÊâßË°åÂÆåÊàêÔºå‰ΩÜÁî±‰∫éÊìç‰ΩúÈÉΩÂú®ÂÜÖÂ≠ò‰∏≠ÊâßË°åÔºåÊâÄÈÄ†ÊàêÁöÑÂΩ±ÂìçÂπ∂ <code>Ê≤°ÊúâÂà∑Êñ∞Âà∞Á£ÅÁõòÊó∂</code>ÔºåÊàë‰ª¨Â∞±ËØ¥ËØ•‰∫ãÂä°Â§ÑÂú® <code>ÈÉ®ÂàÜÊèê‰∫§ÁöÑ</code> Áä∂ÊÄÅ„ÄÇ</p>
</li>
<li><p><strong>Â§±Ë¥•ÁöÑ</strong>ÔºàfailedÔºâ</p>
<p>ÂΩì‰∫ãÂä°Â§ÑÂú® <code>Ê¥ªÂä®ÁöÑ</code> ÊàñËÄÖ <code>ÈÉ®ÂàÜÊèê‰∫§ÁöÑ</code> Áä∂ÊÄÅÊó∂ÔºåÂèØËÉΩÈÅáÂà∞‰∫ÜÊüê‰∫õÈîôËØØÔºàÊï∞ÊçÆÂ∫ìËá™Ë∫´ÁöÑÈîôËØØ„ÄÅÊìç‰ΩúÁ≥ªÁªüÈîôËØØÊàñËÄÖÁõ¥Êé•Êñ≠ÁîµÁ≠âÔºâËÄåÊó†Ê≥ïÁªßÁª≠ÊâßË°åÔºåÊàñËÄÖ‰∫∫‰∏∫ÁöÑÂÅúÊ≠¢ÂΩìÂâç‰∫ãÂä°ÁöÑÊâßË°åÔºåÊàë‰ª¨Â∞±ËØ¥ËØ•‰∫ãÂä°Â§ÑÂú® <code>Â§±Ë¥•ÁöÑ</code> Áä∂ÊÄÅ„ÄÇ</p>
</li>
<li><p><strong>‰∏≠Ê≠¢ÁöÑ</strong>ÔºàabortedÔºâ</p>
<p>Â¶ÇÊûú‰∫ãÂä°ÊâßË°å‰∫Ü‰∏ÄÈÉ®ÂàÜËÄåÂèò‰∏∫ Â§±Ë¥•ÁöÑÁä∂ÊÄÅÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊääÂ∑≤Áªè‰øÆÊîπÁöÑ‰∫ãÂä°‰∏≠ÁöÑÊìç‰ΩúËøòÂéüÂà∞‰∫ãÂä°ÊâßË°åÂâçÁöÑÁä∂ÊÄÅ„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂ∞±ÊòØË¶ÅÊí§ÈîÄÂ§±Ë¥•‰∫ãÂä°ÂØπÂΩìÂâçÊï∞ÊçÆÂ∫ìÈÄ†ÊàêÁöÑÂΩ±Âìç„ÄÇÊàë‰ª¨ÊääËøô‰∏™Êí§ÈîÄÁöÑËøáÁ®ãÁß∞‰πã‰∏∫ÂõûÊªö „ÄÇÂΩì ÂõûÊªö Êìç‰ΩúÊâßË°åÂÆåÊØïÊó∂Ôºå‰πüÂ∞±ÊòØÊï∞ÊçÆÂ∫ìÊÅ¢Â§çÂà∞‰∫ÜÊâßË°å‰∫ãÂä°‰πãÂâçÁöÑÁä∂ÊÄÅÔºåÊàë‰ª¨Â∞±ËØ¥ËØ•‰∫ãÂä°Â§ÑÂú®‰∫Ü ‰∏≠Ê≠¢ÁöÑ Áä∂ÊÄÅ„ÄÇ</p>
</li>
<li><p><strong>Êèê‰∫§ÁöÑ</strong>ÔºàcommittedÔºâ</p>
<p>ÂΩì‰∏Ä‰∏™Â§ÑÂú® <code>ÈÉ®ÂàÜÊèê‰∫§ÁöÑ</code> Áä∂ÊÄÅÁöÑ‰∫ãÂä°Â∞Ü‰øÆÊîπËøáÁöÑÊï∞ÊçÆÈÉΩ <code>ÂêåÊ≠•Âà∞Á£ÅÁõò</code> ‰∏ä‰πãÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ËØ¥ËØ•‰∫ãÂä°Â§ÑÂú®‰∫Ü <code>Êèê‰∫§ÁöÑ</code> Áä∂ÊÄÅ„ÄÇ</p>
</li>
</ul>
<p><img src="/image/mysql/mysql51.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h1 id="3-‰∫ãÂä°ÁöÑACIDÁâπÊÄß"><a href="#3-‰∫ãÂä°ÁöÑACIDÁâπÊÄß" class="headerlink" title="3.‰∫ãÂä°ÁöÑACIDÁâπÊÄß"></a>3.‰∫ãÂä°ÁöÑACIDÁâπÊÄß</h1><h2 id="‚ë†ÂéüÂ≠êÊÄßÔºàatomicityÔºâ"><a href="#‚ë†ÂéüÂ≠êÊÄßÔºàatomicityÔºâ" class="headerlink" title="‚ë†ÂéüÂ≠êÊÄßÔºàatomicityÔºâ"></a>‚ë†ÂéüÂ≠êÊÄßÔºàatomicityÔºâ</h2><p><code>ÂéüÂ≠êÊÄß</code>ÊòØÊåá‰∫ãÂä°ÊòØ <strong>‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰Ωç</strong>ÔºåË¶Å‰πàÂÖ®ÈÉ®Êèê‰∫§ÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•ÂõûÊªö„ÄÇ</p>
<h2 id="‚ë°‰∏ÄËá¥ÊÄßÔºàconsistencyÔºâ"><a href="#‚ë°‰∏ÄËá¥ÊÄßÔºàconsistencyÔºâ" class="headerlink" title="‚ë°‰∏ÄËá¥ÊÄßÔºàconsistencyÔºâ"></a>‚ë°‰∏ÄËá¥ÊÄßÔºàconsistencyÔºâ</h2><p>Ê†πÊçÆÂÆö‰πâÔºå‰∏ÄËá¥ÊÄßÊòØÊåá‰∫ãÂä°ÊâßË°åÂâçÂêéÔºåÊï∞ÊçÆ‰ªé‰∏Ä‰∏™ <code>ÂêàÊ≥ïÊÄßÁä∂ÊÄÅ</code> ÂèòÊç¢Âà∞Âè¶Â§ñ‰∏Ä‰∏™ <code>ÂêàÊ≥ïÊÄßÁä∂ÊÄÅ</code> „ÄÇËøôÁßçÁä∂ÊÄÅÊòØ <code>ËØ≠‰πâ‰∏ä</code> ÁöÑËÄå‰∏çÊòØËØ≠Ê≥ï‰∏äÁöÑÔºåË∑üÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÊúâÂÖ≥ÔºåÁ¨¶ÂêàÁé∞ÂÆû‰∏ñÁïåÁöÑÁ∫¶Êùü„ÄÇ</p>
<p>ÊØîÂ¶ÇÊúâ‰∏Ä‰∏™Ë°®ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Â±ûÊÄß‰∏∫ÈáëÈ¢ùÔºåÂú®ËØ≠‰πâ‰∏äÈáëÈ¢ùÂ∫îËØ•Â§ß‰∫éÁ≠â‰∫é0ÔºåË¥¶Êà∑AÊúâ100ÂÖÉÔºåË¥¶Êà∑BÊúâ0ÂÖÉÔºåË¥¶Êà∑AË¶ÅËΩ¨Ë¥¶200ÂÖÉÔºåËøô‰∏™Êìç‰ΩúÂ∞±ÊòØ‰∏çÂêàÊ≥ïÁöÑ„ÄÇ</p>
<h2 id="‚ë¢ÈöîÁ¶ªÂûãÔºàisolationÔºâ"><a href="#‚ë¢ÈöîÁ¶ªÂûãÔºàisolationÔºâ" class="headerlink" title="‚ë¢ÈöîÁ¶ªÂûãÔºàisolationÔºâ"></a>‚ë¢ÈöîÁ¶ªÂûãÔºàisolationÔºâ</h2><p>‰∫ãÂä°ÁöÑÈöîÁ¶ªÊÄßÊòØÊåá‰∏Ä‰∏™‰∫ãÂä°ÁöÑÊâßË°å <code>‰∏çËÉΩË¢´ÂÖ∂‰ªñ‰∫ãÂä°Âπ≤Êâ∞</code> ÔºåÂç≥‰∏Ä‰∏™‰∫ãÂä°ÂÜÖÈÉ®ÁöÑÊìç‰ΩúÂèä‰ΩøÁî®ÁöÑÊï∞ÊçÆÂØπ Âπ∂Âèë ÁöÑÂÖ∂‰ªñ‰∫ãÂä°ÊòØÈöîÁ¶ªÁöÑÔºåÂπ∂ÂèëÊâßË°åÁöÑÂêÑ‰∏™‰∫ãÂä°‰πãÈó¥‰∏çËÉΩ‰∫íÁõ∏Âπ≤Êâ∞„ÄÇ</p>
<h2 id="‚ë£ÊåÅ‰πÖÊÄßÔºàdurabilityÔºâ"><a href="#‚ë£ÊåÅ‰πÖÊÄßÔºàdurabilityÔºâ" class="headerlink" title="‚ë£ÊåÅ‰πÖÊÄßÔºàdurabilityÔºâ"></a>‚ë£ÊåÅ‰πÖÊÄßÔºàdurabilityÔºâ</h2><p>ÊåÅ‰πÖÊÄßÊòØÊåá‰∏Ä‰∏™‰∫ãÂä°‰∏ÄÊó¶Ë¢´Êèê‰∫§ÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠Êï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØ <code>Ê∞∏‰πÖÊÄßÁöÑ</code> ÔºåÊé•‰∏ãÊù•ÁöÑÂÖ∂‰ªñÊìç‰ΩúÂíåÊï∞ÊçÆÂ∫ìÊïÖÈöú‰∏çÂ∫îËØ•ÂØπÂÖ∂Êúâ‰ªª‰ΩïÂΩ±Âìç„ÄÇ</p>
<p>ÊåÅ‰πÖÊÄßÊòØÈÄöËøá <code>‰∫ãÂä°Êó•Âøó</code> Êù•‰øùËØÅÁöÑ„ÄÇÊó•ÂøóÂåÖÊã¨‰∫Ü redoÊó•Âøó Âíå undoÊó•Âøó „ÄÇÂΩìÊàë‰ª¨ÈÄöËøá‰∫ãÂä°ÂØπÊï∞ÊçÆËøõË°å‰øÆÊîπÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖà‰ºöÂ∞ÜÊï∞ÊçÆÂ∫ìÁöÑÂèòÂåñ‰ø°ÊÅØËÆ∞ÂΩïÂà∞ redo Êó•Âøó‰∏≠ÔºåÁÑ∂ÂêéÂÜçÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÂØπÂ∫îÁöÑË°åËøõË°å‰øÆÊîπ„ÄÇ</p>
<p>ËøôÊ†∑ÂÅöÁöÑÂ•ΩÂ§ÑÊòØÔºåÂç≥‰ΩøÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÂ¥©Ê∫ÉÔºåÊï∞ÊçÆÂ∫ìÈáçÂêØÂêé‰πüËÉΩÊâæÂà∞Ê≤°ÊúâÊõ¥Êñ∞Âà∞Êï∞ÊçÆÂ∫ìÁ≥ªÁªü‰∏≠ÁöÑredoÊó•ÂøóÔºåÈáçÊñ∞ÊâßË°åÔºå‰ªéËÄå‰Ωø‰∫ãÂä°ÂÖ∑ÊúâÊåÅ‰πÖÊÄß„ÄÇ</p>
<h1 id="4-‰ΩøÁî®‰∫ãÂä°"><a href="#4-‰ΩøÁî®‰∫ãÂä°" class="headerlink" title="4.‰ΩøÁî®‰∫ãÂä°"></a>4.‰ΩøÁî®‰∫ãÂä°</h1><h2 id="4-1-ÊòæÂºèÂºÄÂêØ‰∫ãÂä°"><a href="#4-1-ÊòæÂºèÂºÄÂêØ‰∫ãÂä°" class="headerlink" title="4.1 ÊòæÂºèÂºÄÂêØ‰∫ãÂä°"></a>4.1 ÊòæÂºèÂºÄÂêØ‰∫ãÂä°</h2><p><strong>Ê≠•È™§1</strong>Ôºö ÊòæÂºèÂºÄÂêØ‰∏Ä‰∏™‰∫ãÂä°„ÄÇ</p>
<p><code>START TRANSACTION</code> ÊàñËÄÖ <code>BEGIN</code> Ôºå</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; BEGIN;<br>#ÊàñËÄÖ<br>mysql&gt; START TRANSACTION;<br></code></pre></td></tr></table></figure>

<p><code>START TRANSACTION</code>ÂêéËæπËÉΩË∑üÈöèÂá†‰∏™‰øÆÈ•∞Á¨¶ ÔºöREAD ONLY(ÂΩìÂâçÂºÄÂêØÁöÑÊòØÂè™ËØª‰∫ãÂä°)„ÄÅREAD WRITE(ÂΩìÂâçÂºÄÂêØÁöÑ‰∫ãÂä°ÂèØ‰ª•ËøõË°åÂ¢ûÂà†ÊîπÊìç‰Ωú)„ÄÅWITH CONSISTENT SNAPSHOT(‰∏ÄËá¥ÊÄßËØª)ÔºåÂ¶ÇÊûúÂêéÈù¢Âï•‰πü‰∏çÂÜôÔºåÈªòËÆ§ÊòØREAD WRITE</p>
<p><strong>Ê≠•È™§2</strong>Ôºö‰∏ÄÁ≥ªÂàó‰∫ãÂä°‰∏≠ÁöÑÊìç‰ΩúÔºà‰∏ªË¶ÅÊòØÊï∞ÊçÆÊìçÁ∫µËØ≠Ë®ÄDMLÔºå‰∏çÂê´Êï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄDDLÔºâ</p>
<blockquote>
<p>DML(Data Manipulation Language)ÔºöÊï∞ÊçÆÊìçÁ∫µËØ≠Ë®ÄÔºåÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆËøõË°å‰∏Ä‰∫õÁÆÄÂçïÊìç‰ΩúÔºåÂ¶Çinsert„ÄÅdelete„ÄÅupdate„ÄÅselectÁ≠â„ÄÇDMLÊìç‰ΩúÊòØÂèØ‰ª•ÊâãÂä®ÊéßÂà∂‰∫ãÂä°ÁöÑÂºÄÂêØ„ÄÅÊèê‰∫§ÂíåÂõûÊªöÁöÑ„ÄÇ<br>DDL(Data Definition Language)ÔºöÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºåÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊüê‰∫õÂØπË±°(‰æãÂ¶Çdatabase„ÄÅtable)ËøõË°åÁÆ°ÁêÜÔºåÂ¶Çcreate„ÄÅalterÂíådrop„ÄÇDDLÊìç‰ΩúÊòØÈöêÊÄßÊèê‰∫§ÁöÑ(ÈªòËÆ§ËØ≠Âè•ÊâßË°åÂÆåÂ∞±Êèê‰∫§‰∫ãÂä°‰∫Ü)Ôºå‰∏çËÉΩrollback„ÄÇ</p>
</blockquote>
<p><strong>Ê≠•È™§3</strong>ÔºöÊèê‰∫§‰∫ãÂä° Êàñ ‰∏≠Ê≠¢‰∫ãÂä°ÔºàÂç≥ÂõûÊªö‰∫ãÂä°Ôºâ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 1.Êèê‰∫§‰∫ãÂä°„ÄÇÂΩìÊèê‰∫§‰∫ãÂä°ÂêéÔºåÂØπÊï∞ÊçÆÂ∫ìÁöÑ‰øÆÊîπÊòØÊ∞∏‰πÖÊÄßÁöÑ„ÄÇ<br>mysql&gt; COMMIT;<br><br># 2.ÂõûÊªö‰∫ãÂä°„ÄÇÂç≥Êí§ÈîÄÊ≠£Âú®ËøõË°åÁöÑÊâÄÊúâÊ≤°ÊúâÊèê‰∫§ÁöÑ‰øÆÊîπÔºåÂõûÂà∞beginÂ§ÑÊúÄÂàùÁöÑÁä∂ÊÄÅ<br>mysql&gt; ROLLBACK;<br><br># 3.Â∞Ü‰∫ãÂä°ÂõûÊªöÂà∞Êüê‰∏™‰øùÂ≠òÁÇπ„ÄÇÂõ†‰∏∫rollbackÊòØÂõûÂà∞ÊúÄÂàùÁöÑÁä∂ÊÄÅÔºå‰ΩÜÊòØÊàë‰ª¨Âè™ÊÉ≥Ë¶ÅÂõûÂà∞ÂêéÈù¢ÁöÑÊüê‰∏™‰ΩçÁΩÆÔºåÂ∞±ÈúÄË¶ÅÈÇ£‰∏™‰ΩçÁΩÆÊâßË°åÂÆå‰πãÂêéËÆæÁΩÆ‰øùÂ≠òÁÇπ„Äêsavepoint s1„ÄëÔºåÁÑ∂ÂêéÂ∞±ÂõûÊªöÂà∞Ëøô‰∏™‰ΩçÁΩÆÔºåÂèñÊ∂à‰øùÂ≠òÁÇπ„Äêrelease savepoint s1„Äë<br>mysql&gt; ROLLBACK TO [SAVEPOINT]<br></code></pre></td></tr></table></figure>

<h2 id="4-2-ÈöêÂºèÂºÄÂêØ‰∫ãÂä°"><a href="#4-2-ÈöêÂºèÂºÄÂêØ‰∫ãÂä°" class="headerlink" title="4.2 ÈöêÂºèÂºÄÂêØ‰∫ãÂä°"></a>4.2 ÈöêÂºèÂºÄÂêØ‰∫ãÂä°</h2><p>MySQL‰∏≠Êúâ‰∏Ä‰∏™Á≥ªÁªüÂèòÈáè <code>autocommit</code>ÔºöÈªòËÆ§ÊòØÂºÄÂêØÁöÑÁä∂ÊÄÅÔºå‰ΩúÁî®ÊòØ‰ΩøÊØè‰∏Ä‰∏™DMLËØ≠Âè•ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑ‰∫ãÂä°ÔºåÊâßË°åÂÆåÂ∞±Ëá™Âä®Êèê‰∫§‰∫Ü„ÄÇ<code>Ëøô‰∏™Á≥ªÁªüÂèòÈáèÂè™ÂØπDMLËØ≠Âè•ÊúâÊïà„ÄÇ</code></p>
<p>Â¶Ç‰ΩïÂÖ≥Èó≠DMLËØ≠Âè•ÁöÑÈöêÂºèËá™Âä®Êèê‰∫§Ôºö1.ÂΩìÊòæÂºèÁöÑÁöÑ‰ΩøÁî®<code>START TRANSACTION</code>ÊàñËÄÖ <code>BEGIN</code>ËØ≠Âè•ÂºÄÂêØ‰∏Ä‰∏™‰∫ãÂä°„ÄÇËøôÊ†∑Âú®Êú¨Ê¨°‰∫ãÂä°Êèê‰∫§ÊàñËÄÖÂõûÊªöÂâç‰ºöÊöÇÊó∂ÂÖ≥Èó≠ÊéâÈöêÂºèÁöÑËá™Âä®Êèê‰∫§ÁöÑÂäüËÉΩÔºåÊòæÂºèÁöÑ‰ºòÂÖàÁ∫ßÊØîÈöêÂºèÁöÑÈ´ò„ÄÇ2.Â∞ÜËøô‰∏™Á≥ªÁªüÂèòÈáèËÆæÁΩÆ‰∏∫off</p>
<p>ÂÖ≥Èó≠‰πãÂêéÔºåÊâßË°åËøáDMLËØ≠Âè•‰∏ç‰ºöËá™Âä®Êèê‰∫§ÔºåÈúÄË¶ÅÊâãÂä®COMMIT</p>
<hr>
<p>‰ΩÜÊòØDDLËØ≠Âè•‰∏çÂèóËøô‰∏™ÂèòÈáèÁöÑÂΩ±ÂìçÔºåDDLËØ≠Âè•ÂßãÁªàÈÉΩÊòØÊâßË°åÂÆåËøô‰∏ÄÂè•ÈªòËÆ§Êèê‰∫§‰∫ãÂä°„ÄÇ</p>
<hr>
<p>Â¶ÇÊûúÂú®‰∫ãÂä°ÂºÄÂßãÂâçËÆæÁΩÆ‰∫Ü<code>SET @@completion_type=1;</code>Âú®ÂÆÉÂêéÈù¢ÔºåÂ¶ÇÊûú‰∏Ä‰∏™‰∫ãÂä°ÂÆåÊàêÔºåÂÆÉ‰ºöÂÜçÂ∏ÆÊàë‰ª¨ÂºÄÂêØ‰∏Ä‰∏™‰∫ãÂä°ÔºåËøô‰∏™‰∫ãÂä°ÁªìÊùüÔºå‰ºöÂÜçÂ∏ÆÊàë‰ª¨ÂºÄÂêØ‰∏Ä‰∏™Áõ∏ÂêåÈöîÁ¶ªÁ∫ßÂà´ÁöÑ‰∫ãÂä°ÔºåÂ∞±ÊòØ‰∏Ä‰∏™ÈìæÂºè‰∫ãÂä°„ÄÇ</p>
<p>Ëøô‰∏™ÂèòÈáèÈªòËÆ§ÂÄºÊòØ0ÔºåÂ∞±ÊòØcommitÊèê‰∫§‰∫ãÂä°‰πãÂêéÔºåÂ¶ÇÊûúËøòÊÉ≥ÂºÄÂêØ‰∫ãÂä°ÔºåÈúÄË¶ÅÈáçÊñ∞begin</p>
<h1 id="5-‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´"><a href="#5-‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´" class="headerlink" title="5.‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´"></a>5.‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´</h1><h2 id="5-1-‰∏∫‰ªÄ‰πà‰ºöÊúâ‰∫ãÂä°ÈöîÁ¶ªÔºü"><a href="#5-1-‰∏∫‰ªÄ‰πà‰ºöÊúâ‰∫ãÂä°ÈöîÁ¶ªÔºü" class="headerlink" title="5.1 ‰∏∫‰ªÄ‰πà‰ºöÊúâ‰∫ãÂä°ÈöîÁ¶ªÔºü"></a>5.1 ‰∏∫‰ªÄ‰πà‰ºöÊúâ‰∫ãÂä°ÈöîÁ¶ªÔºü</h2><p>MySQLÊòØ‰∏Ä‰∏™ ÂÆ¢Êà∑Á´ØÔºèÊúçÂä°Âô® Êû∂ÊûÑÁöÑËΩØ‰ª∂ÔºåÂØπ‰∫éÂêå‰∏Ä‰∏™ÊúçÂä°Âô®Êù•ËØ¥ÔºåÂèØ‰ª•ÊúâËã•Âπ≤‰∏™ÂÆ¢Êà∑Á´Ø‰∏é‰πãËøûÊé•ÔºåÊØè‰∏™ÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®ËøûÊé•‰∏ä‰πãÂêéÔºåÂ∞±ÂèØ‰ª•Áß∞‰∏∫‰∏Ä‰∏™<strong>‰ºöËØù</strong>Ôºà Session Ôºâ„ÄÇ</p>
<p>ÊØè‰∏™ÂÆ¢Êà∑Á´ØÈÉΩÂèØ‰ª•Âú®Ëá™Â∑±ÁöÑ‰ºöËØù‰∏≠ÂêëÊúçÂä°Âô®ÂèëÂá∫ËØ∑Ê±ÇËØ≠Âè•Ôºå‰∏Ä‰∏™ËØ∑Ê±ÇËØ≠Âè•ÂèØËÉΩÊòØÊüê‰∏™‰∫ãÂä°ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂØπ‰∫éÊúçÂä°Âô®Êù•ËØ¥ÂèØËÉΩÂêåÊó∂Â§ÑÁêÜÂ§ö‰∏™‰∫ãÂä°„ÄÇ</p>
<p>ËøôÊ†∑Â∞±‰ºö‰∫ßÁîüÂπ∂ÂèëËÆøÈóÆÂíå‰øÆÊîπÊï∞ÊçÆÁöÑÈóÆÈ¢ò„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÊúâËøôÂõõ‰∏™ÈóÆÈ¢òÔºö</p>
<p>ÂÅáËÆæÊúâ‰∏§‰∏™‰ºöËØùÔºå‰ªñ‰ª¨ÂàÜÂà´Êúâ‰∏Ä‰∏™‰∫ãÂä°ÔºåSessionAÂíåSessionB</p>
<ol>
<li><p>ËÑèÂÜô</p>
<p>‰∫ãÂä°A‰øÆÊîπ‰∫ÜÂè¶‰∏Ä‰∏™Êú™Êèê‰∫§ÁöÑ‰∫ãÂä°B‰øÆÊîπËøáÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îËøòÊèê‰∫§‰∫ÜÔºå‰πãÂêéÂ¶ÇÊûú‰∫ãÂä°BÂèëÁîü‰∫ÜÂõûÊªöÔºåÊï∞ÊçÆÂ∞±ÂèòÊàê‰∫ãÂä°B‰øÆÊîπ‰πãÂâçÁöÑÁä∂ÊÄÅ‰∫ÜÔºå‰ΩÜÊòØ‰∫ãÂä°AÂ∑≤ÁªèÊèê‰∫§‰∫ÜÔºåÊåâÈÅìÁêÜËØ¥Êï∞ÊçÆ‰∏çÂ∫îËØ•ÂèòÔºåËøôÂ∞±ÊòØËÑèÂÜô„ÄÇ</p>
<p><img src="/image/mysql/mysql52.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>ËÑèËØª</p>
<p>‰∫ãÂä°AËØªÂèñ‰∫Ü‰∫ãÂä°BÊõ¥Êñ∞‰ΩÜËøòÊ≤°ÊúâË¢´Êèê‰∫§ÁöÑÂ≠óÊÆµÔºå‰πãÂêéÂ¶ÇÊûú‰∫ãÂä°BÂõûÊªöÔºå‰∫ãÂä°AËØªÂèñÁöÑÂÜÖÂÆπÂ∞±ÊòØ‰∏¥Êó∂Êó†ÊïàÁöÑ„ÄÇ</p>
<p><img src="/image/mysql/mysql53.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>‰∏çÂèØÈáçÂ§çËØª</p>
<p>‰∫ãÂä°AËØªÂèñ‰∫Ü‰∏Ä‰∏™Â≠óÊÆµÔºåÁÑ∂Âêé‰∫ãÂä°BÊõ¥Êñ∞‰∫ÜËøô‰∏™Â≠óÊÆµÔºå‰πãÂêé‰∫ãÂä°AÂÜçÊ¨°ËØªÂèñÂêå‰∏Ä‰∏™Â≠óÊÆµÔºåÂÄº‰∏çÂêå‰∫ÜÔºåËøôÂ∞±ÊòØÂèëÁîü‰∫Ü‰∏çÂèØÈáçÂ§çËØª</p>
<p><img src="/image/mysql/mysql54.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>ÂπªËØª</p>
<p>‰∫ãÂä°A‰ªéË°®‰∏≠ËØªÂèñ‰∫Ü‰∏Ä‰∏™Â≠óÊÆµÔºåÁÑ∂Âêé‰∫ãÂä°BÂú®ËØ•Ë°®‰∏≠ÊèíÂÖ•‰∫Ü‰∏Ä‰∫õÊñ∞ÁöÑË°åÔºå‰πãÂêéÂ¶ÇÊûú‰∫ãÂä°AÂÜçÊ¨°ËØªÂèñÂêå‰∏Ä‰∏™Ë°®ÔºåÂ∞±‰ºöÂ§öÂá∫Âá†Ë°åÔºåÈÇ£Â∞±ÊÑèÂë≥ÁùÄÂèëÁîü‰∫ÜÂπªËØªÔºåÂ•ΩÂÉèÂá∫Áé∞‰∫ÜÂπªËßâ‰∏ÄÊ†∑ÔºåËßâÂæóÊòØÂá≠Á©∫Âá∫Áé∞ÁöÑÊï∞ÊçÆ„ÄÇ</p>
<p><img src="/image/mysql/mysql55.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
</ol>
<h2 id="5-2-SQL‰∏≠ÁöÑÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´"><a href="#5-2-SQL‰∏≠ÁöÑÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´" class="headerlink" title="5.2 SQL‰∏≠ÁöÑÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´"></a>5.2 SQL‰∏≠ÁöÑÂõõÁßçÈöîÁ¶ªÁ∫ßÂà´</h2><p><img src="/image/mysql/mysql55.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h2 id="5-3-MySQLÊîØÊåÅÁöÑÈöîÁ¶ªÁ∫ßÂà´"><a href="#5-3-MySQLÊîØÊåÅÁöÑÈöîÁ¶ªÁ∫ßÂà´" class="headerlink" title="5.3 MySQLÊîØÊåÅÁöÑÈöîÁ¶ªÁ∫ßÂà´"></a>5.3 MySQLÊîØÊåÅÁöÑÈöîÁ¶ªÁ∫ßÂà´</h2><p>MySQLÈªòËÆ§ÊîØÊåÅÁöÑÊòØREPEATABLE  READ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; show variables like &#x27;transaction_isolation&#x27;;<br>+-----------------------+-----------------+<br>| Variable_name         | Value           |<br>+-----------------------+-----------------+<br>| transaction_isolation | REPEATABLE-READ |<br>+-----------------------+-----------------+<br>1 row in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<hr>
<p>‰øÆÊîπMySQLÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SET [GLOBAL|SESSION] TRANSACTION_ISOLATION = &#x27;ÈöîÁ¶ªÁ∫ßÂà´&#x27;<br>#ÂÖ∂‰∏≠ÔºåÈöîÁ¶ªÁ∫ßÂà´Ê†ºÂºèÔºö<br>&gt; READ-UNCOMMITTED<br>&gt; READ-COMMITTED<br>&gt; REPEATABLE-READ<br>&gt; SERIALIZABLE<br></code></pre></td></tr></table></figure>

<ul>
<li><p>GLOBAL</p>
<p>ÂØπÂΩìÂâçÂ∑≤ÁªèÂ≠òÂú®ÁöÑ<code>‰ºöËØù</code>Êó†ÊïàÔºåÂè™ÂØπÊâßË°åÂÆåËØ•ËØ≠Âè•‰πãÂêé‰∫ßÁîüÁöÑ‰ºöËØùËµ∑‰ΩúÁî®</p>
</li>
<li><p>SESSION</p>
<p>ÂØπÂΩìÂâç‰ºöËØùÁöÑÊâÄÊúâÂêéÁª≠ÁöÑ‰∫ãÂä°ÊúâÊïàÔºåÂ¶ÇÊûúÂú®‰∫ãÂä°‰πãÈó¥ÊâßË°åÔºåÂàôÂØπÂêéÁª≠‰∫ãÂä°ÊúâÊïàÔºåÂ¶ÇÊûúÂú®Â∑≤ÁªèÂºÄÂêØÁöÑ‰∫ãÂä°‰∏≠Èó¥ÊâßË°åÔºåËøô‰∏™‰∫ãÂä°ÁöÑÈöîÁ¶ªÁ∫ßÂà´ËøòÊòØÂéüÊù•ÁöÑÔºå‰∏ç‰ºöË¢´ÂΩ±Âìç„ÄÇËÄå‰∏îÂè™‰ºöÂΩ±ÂìçÂΩìÂâç‰ºöËØù</p>
</li>
</ul>
<p>‰ΩÜÊòØÂ¶ÇÊûúÈáçÂêØMySQLÊúçÂä°Âô®Ôºå‰ºöÊÅ¢Â§çÂà∞ÈªòËÆ§ÁöÑËÆæÁΩÆ</p>
<hr>
<h3 id="‚ë†ËÑèËØªÁöÑÁé∞Ë±°-‚Äî-read-uncommitted"><a href="#‚ë†ËÑèËØªÁöÑÁé∞Ë±°-‚Äî-read-uncommitted" class="headerlink" title="**‚ë†ËÑèËØªÁöÑÁé∞Ë±° ** ‚Äî&gt;  read-uncommitted"></a>**‚ë†ËÑèËØªÁöÑÁé∞Ë±° ** ‚Äî&gt;  read-uncommitted</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#‰∫ãÂä°AÔºå‰∫ãÂä°BÁöÑÈöîÁ¶ªÁ∫ßÂà´ÈÉΩ‰øÆÊîπ‰∏∫READ-UNCOMMITTED<br>mysql&gt; set session transaction_isolation = &#x27;READ-UNCOMMITTED&#x27;;<br>#ÂàùÂßãË°®Áä∂ÊÄÅ<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     100 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>#‰∫ãÂä°A<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; update account set balance = balance + 100 where name = &#x27;Âº†‰∏â&#x27;;<br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0 #Ê≥®ÊÑèÔºåËøòÊú™Êèê‰∫§<br><br>#‰∫ãÂä°B<br>mysql&gt; select * from account;#Êü•ËØ¢Âà∞ÁöÑÊòØ‰∏¥Êó∂ÊúâÊïàÁöÑÊï∞ÊçÆ<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     200 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br><br>#‰∫ãÂä°A<br>mysql&gt; rollback;<br>Query OK, 0 rows affected (0.00 sec)<br><br>#‰∫ãÂä°B<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     100 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br>#‰∫ãÂä°BÂâçÂêéËØªÂèñÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÔºåËÑèËØª<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="‚ë°Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÔºü-‚Äî-read-committed"><a href="#‚ë°Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÔºü-‚Äî-read-committed" class="headerlink" title="‚ë°Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÔºü ‚Äî&gt;  read-committed"></a><strong>‚ë°Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÔºü</strong> ‚Äî&gt;  read-committed</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; set session transaction_isolation=&#x27;read-committed&#x27;;<br>Query OK, 0 rows affected (0.00 sec)<br>#Âè™Ë¶ÅÊú™Êèê‰∫§ÁöÑ‰øÆÊîπÔºåÂÖ∂‰ªñ‰∫ãÂä°ÈÉΩ‰∏ç‰ºöËØªÂèñÂá∫Ëøô‰∏™Êï∞ÊçÆ<br><br>#‰∫ãÂä°A<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br>mysql&gt; update account set balance = balance - 10 where name = &#x27;Âº†‰∏â&#x27;;<br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |      90 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br><br>#‰∫ãÂä°B<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     100 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br><br>#‰∫ãÂä°A<br>mysql&gt; commit;<br>Query OK, 0 rows affected (0.01 sec)<br>#‰∫ãÂä°B<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |      90 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="‚ë¢Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÂíå‰∏çÂèØÈáçÂ§çËØªÔºü-‚Äî-repeatable-read"><a href="#‚ë¢Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÂíå‰∏çÂèØÈáçÂ§çËØªÔºü-‚Äî-repeatable-read" class="headerlink" title="‚ë¢Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÂíå‰∏çÂèØÈáçÂ§çËØªÔºü ‚Äî&gt;  repeatable-read"></a>‚ë¢Â¶Ç‰ΩïÈÅøÂÖçËÑèËØªÂíå‰∏çÂèØÈáçÂ§çËØªÔºü ‚Äî&gt;  repeatable-read</h3><p>Âú®‰∏ÄÊ¨°‰∫ãÂä°‰∏≠ËØªÂèñÁöÑÊüê‰∏™ÂàóÁöÑÂÄºÂßãÁªàÊòØ‰∏ÄÊ†∑ÁöÑ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; set session transaction_isolation=&#x27;repeatable-read&#x27;;<br>Query OK, 0 rows affected (0.00 sec)<br>#‰∫ãÂä°A<br>mysql&gt; begin;<br>Query OK, 0 rows affected (0.00 sec)<br>#‰∫ãÂä°B<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     110 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br>#‰∫ãÂä°A<br>mysql&gt; update account set balance = balance + 10 where name = &#x27;Âº†‰∏â&#x27;;<br>Query OK, 1 row affected (0.00 sec)<br>Rows matched: 1  Changed: 1  Warnings: 0<br>#‰∫ãÂä°B<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     100 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br>#‰∫ãÂä°A<br>mysql&gt; commit;<br>Query OK, 0 rows affected (0.00 sec)<br>#‰∫ãÂä°B<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     100 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; commit;<br>Query OK, 0 rows affected (0.00 sec)<br>mysql&gt; select * from account;<br>+--------+---------+<br>| name   | balance |<br>+--------+---------+<br>| Âº†‰∏â   |     110 |<br>| ÊùéÂõõ   |       0 |<br>+--------+---------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<h1 id="6-MySQL‰∫ãÂä°Êó•Âøó"><a href="#6-MySQL‰∫ãÂä°Êó•Âøó" class="headerlink" title="6.MySQL‰∫ãÂä°Êó•Âøó"></a>6.MySQL‰∫ãÂä°Êó•Âøó</h1><p>‰∫ãÂä°Êúâ4ÁßçÁâπÊÄßÔºö<code>ÂéüÂ≠êÊÄß</code>„ÄÅ<code>‰∏ÄËá¥ÊÄß</code>„ÄÅ<code>ÈöîÁ¶ªÊÄß</code>Âíå<code>ÊåÅ‰πÖÊÄß</code>„ÄÇÈÇ£‰πà‰∫ãÂä°ÁöÑÂõõÁßçÁâπÊÄßÂà∞Â∫ïÊòØÂü∫‰∫é‰ªÄ‰πàÊú∫Âà∂ÂÆûÁé∞Âë¢Ôºü</p>
<p>‰∫ãÂä°ÁöÑÈöîÁ¶ªÊÄßÁî± <code>ÈîÅÊú∫Âà∂</code> ÂÆûÁé∞„ÄÇ</p>
<p><strong>REDO LOG</strong> Áß∞‰∏∫ ÈáçÂÅöÊó•Âøó ÔºåÊèê‰æõÂÜçÂÜôÂÖ•Êìç‰ΩúÔºåÊÅ¢Â§çÊèê‰∫§‰∫ãÂä°‰øÆÊîπÁöÑÈ°µÊìç‰ΩúÔºåÁî®Êù•‰øùËØÅ‰∫ãÂä°ÁöÑ<code>ÊåÅ‰πÖÊÄß</code>„ÄÇ</p>
<p><strong>UNDO LOG</strong>Áß∞‰∏∫ ÂõûÊªöÊó•Âøó ÔºåÂõûÊªöË°åËÆ∞ÂΩïÂà∞Êüê‰∏™ÁâπÂÆöÁâàÊú¨ÔºåÁî®Êù•‰øùËØÅ‰∫ãÂä°ÁöÑ<code>ÂéüÂ≠êÊÄß„ÄÅ‰∏ÄËá¥ÊÄß</code>„ÄÇ</p>
<p><img src="/image/mysql/mysql64.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h2 id="6-1-redoÊó•Âøó"><a href="#6-1-redoÊó•Âøó" class="headerlink" title="6.1 redoÊó•Âøó"></a>6.1 redoÊó•Âøó</h2><p>ÂΩìÂºÄÂêØ‰∫ãÂä°ÂêéÔºåËøõË°å‰∏Ä‰∫õÂàóÂ¢ûÂà†ÊîπÊìç‰ΩúÔºåÊ≠£Â∏∏commit‰πãÂêéÔºåËøô‰∫õÊï∞ÊçÆÊòØÂÖà‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂú®‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂÜÖÂ∞ÜÂÖ∂Âà∑ÁõòÂà∞Á£ÅÁõò‰∏äÔºåÂ¶ÇÊûúÂú®Ëøô‰∏™Êó∂Èó¥ÊàñËÄÖËøòÊú™Âà∑ÁõòÁöÑÊó∂Èó¥ÂÜÖÔºåÁ≥ªÁªüÂÆïÊú∫‰∫ÜÔºåËøô‰∫õÊï∞ÊçÆÂ∞±Â§±Êïà‰∫ÜÔºåÂõ†Ê≠§‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÈîôËØØÔºåËÆæÁΩÆ‰∫ÜredoÊó•ÂøóÔºåÂÆÉÊòØ‰øùÂ≠òÂú®Á£ÅÁõò‰∏äÁöÑÔºåÊØèÊ¨°ËøõË°å‰∏ÄÁ≥ªÂàóÂ¢ûÂà†ÊîπÊìç‰ΩúÔºåÈÉΩÂÖà‰øùÂ≠òÂà∞redoÊó•Âøó‰∏≠**(‰∫ãÂä°ÊâßË°åÁöÑËøáÁ®ã‰∏≠‰∏ÄÁõ¥‰∏çÊñ≠ÁöÑÂæÄredoÊó•Âøó‰∏≠È°∫Â∫èËÆ∞ÂΩï)**ÔºåÁÑ∂ÂêéÂú®‰ª•‰∏ÄÂÆöÈ¢ëÁéáÂà∑ÁõòÂà∞Á£ÅÁõò‰∏≠ÔºåÂ¶ÇÊûúËøô‰∏™Êó∂ÂÄôÁ≥ªÁªüÂÆïÊú∫‰∫ÜÔºåredoÊó•ÂøóËøõË°åÊï∞ÊçÆÁöÑÊÅ¢Â§ç„ÄÇ</p>
<p><strong>InnoDBÁöÑÊõ¥Êñ∞Êìç‰ΩúÈááÁî®ÁöÑÊòØWrite-Ahead Log</strong>(È¢ÑÂÖàÊó•ÂøóÊåÅ‰πÖÂåñ)ÔºöÂú®ÊåÅ‰πÖÂåñ‰∏Ä‰∏™Êï∞ÊçÆÈ°µ‰πãÂâçÔºåÂÖàÂ∞ÜÂÜÖÂ≠ò‰∏≠Áõ∏Â∫îÁöÑÊó•ÂøóÈ°µÊåÅ‰πÖÂåñ„ÄÇÂÖàÂÜôÊó•ÂøóÔºåÂÜçÂÜôÂÖ•Á£ÅÁõò„ÄÇ</p>
<h3 id="6-1-1-ÈáçÂÅöÊó•ÂøóÁöÑÁºìÂÜ≤-redo-log-buffer"><a href="#6-1-1-ÈáçÂÅöÊó•ÂøóÁöÑÁºìÂÜ≤-redo-log-buffer" class="headerlink" title="6.1.1 ÈáçÂÅöÊó•ÂøóÁöÑÁºìÂÜ≤ (redo log buffer)"></a>6.1.1 ÈáçÂÅöÊó•ÂøóÁöÑÁºìÂÜ≤ (redo log buffer)</h3><p>‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÊòìÂ§±</p>
<p>innodb_log_buffer_sizeÔºöredo log buffer Â§ßÂ∞èÔºå<code>ÈªòËÆ§ 16M</code>ÔºåÊúÄÂ§ßÂÄºÊòØ4096MÔºåÊúÄÂ∞èÂÄº‰∏∫1M„ÄÇ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; show variables like &#x27;%innodb_log_buffer_size%&#x27;;<br>+------------------------+----------+<br>| Variable_name          | Value    |<br>+------------------------+----------+<br>| innodb_log_buffer_size | 16777216 |<br>+------------------------+----------+<br>1 row in set (0.01 sec)<br></code></pre></td></tr></table></figure>

<p>‰∏Ä‰∏™redo log blockÂç†Áî®512Â≠óËäÇ</p>
<p><img src="/image/mysql/mysql57.png" srcset="/image/beautify/loading.gif" lazyload></p>
<hr>
<p><img src="/image/mysql/mysql58.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p><strong>redo logÁöÑÂà∑ÁõòÁ≠ñÁï•</strong>ÔºöËøôÈáåÁöÑÂà∑ÁõòÊòØÊåáÂ∞Üredo log bufferÔºàÂú®ÂÜÖÂ≠ò‰∏≠Ôºâ‰∏≠ÁöÑÂÜÖÂÆπ‰ª• <code>‰∏ÄÂÆöÁöÑÈ¢ëÁéá</code> Âà∑ÂÖ•Âà∞ÁúüÊ≠£ÁöÑredo log fileÔºàÂú®Á£ÅÁõò‰∏≠Ôºâ „ÄÇ</p>
<blockquote>
<p>redo log bufferÂà∑ÁõòÂà∞redo log fileÁöÑËøáÁ®ãÂπ∂‰∏çÊòØÁúüÊ≠£ÁöÑÂà∑Âà∞Á£ÅÁõò‰∏≠ÂéªÔºåÂè™ÊòØÂà∑ÂÖ•Âà∞ <code>Êñá‰ª∂Á≥ªÁªüÁºìÂ≠òÔºàpage cacheÔºâ</code>‰∏≠ÂéªÔºàËøôÊòØÁé∞‰ª£Êìç‰ΩúÁ≥ªÁªü‰∏∫‰∫ÜÊèêÈ´òÊñá‰ª∂ÂÜôÂÖ•ÊïàÁéáÂÅöÁöÑ‰∏Ä‰∏™‰ºòÂåñÔºâÔºåÁúüÊ≠£ÁöÑÂÜôÂÖ•‰ºö‰∫§ÁªôÁ≥ªÁªüËá™Â∑±Êù•ÂÜ≥ÂÆö</p>
</blockquote>
<p>InnoDBÁªôÂá∫ innodb_flush_log_at_trx_commitÂèÇÊï∞ÔºåËØ•ÂèÇÊï∞ÊéßÂà∂ commitÊèê‰∫§‰∫ãÂä°Êó∂ÔºåÂ¶Ç‰ΩïÂ∞Ü redo log buffer ‰∏≠ÁöÑÊó•ÂøóÂà∑Êñ∞Âà∞ redo log file ‰∏≠„ÄÇÂÆÉÊîØÊåÅ‰∏âÁßçÁ≠ñÁï•Ôºö</p>
<ol>
<li><p>ËÆæÁΩÆ‰∏∫0 Ôºö<br>Ë°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂‰∏çËøõË°åÂÜôÂÖ•Êñá‰ª∂Á≥ªÁªüÁºìÂ≠òÂíåÂà∑ÁõòÊìç‰Ωú„ÄÇÔºàÈÄöËøáÁ≥ªÁªüÈªòËÆ§master threadÊØèÈöî1sËøõË°å‰∏ÄÊ¨°ÈáçÂÅöÊó•ÂøóÁöÑÂêåÊ≠•Ôºâ</p>
<p><img src="/image/mysql/mysql61.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>ËÆæÁΩÆ‰∏∫1 Ôºö<br>Ë°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÈÉΩÂ∞ÜËøõË°åÂêåÊ≠•ÔºåÂà∑ÁõòÊìç‰ΩúÔºà ÈªòËÆ§ÂÄº Ôºâ</p>
<p>Âú®‰∫ãÂä°‰∏≠ËøõË°åÊõ¥Êñ∞Êï∞ÊçÆÊó∂ÔºåÂÆûÊó∂Â∞ÜËøô‰∫õÊìç‰ΩúÂÜôÂÖ•redo log buffer‰∏≠ÔºåÂΩì‰∫ãÂä°Êèê‰∫§ÂêéÔºåÁ´ãÂàªÂ∞Üredo log buffer‰∏≠ÁöÑÂÜÖÂÆπÂÜôÂÖ•Êñá‰ª∂Á≥ªÁªüÁºìÂ≠òÔºåÁÑ∂ÂêéosÁ´ãÂàªÂ∞ÜÊñá‰ª∂Á≥ªÁªüÁºìÂ≠òÂà∑ÁõòÂà∞redo file‰∏≠</p>
<p><img src="/image/mysql/mysql59.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>ËÆæÁΩÆ‰∏∫2 Ôºö<br>Ë°®Á§∫ÊØèÊ¨°‰∫ãÂä°Êèê‰∫§Êó∂ÈÉΩÂè™Êää redo log buffer ÂÜÖÂÆπÂÜôÂÖ• page cacheÔºàÊìç‰ΩúÁ≥ªÁªüÁöÑÁºìÂ≠òÔºâÔºå‰∏çËøõË°åÂêåÊ≠•„ÄÇÁî±osËá™Â∑±ÂÜ≥ÂÆö‰ªÄ‰πàÊó∂ÂÄôÂêåÊ≠•Âà∞Á£ÅÁõòÊñá‰ª∂„ÄÇ</p>
<p><img src="/image/mysql/mysql60.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
</ol>
<h3 id="6-1-2-ÈáçÂÅöÊó•ÂøóÊñá‰ª∂-redo-log-file"><a href="#6-1-2-ÈáçÂÅöÊó•ÂøóÊñá‰ª∂-redo-log-file" class="headerlink" title="6.1.2 ÈáçÂÅöÊó•ÂøóÊñá‰ª∂ (redo log file)"></a>6.1.2 ÈáçÂÅöÊó•ÂøóÊñá‰ª∂ (redo log file)</h3><p><strong>innodb_log_group_home_dir</strong> ÔºöÊåáÂÆö redo log Êñá‰ª∂ÁªÑÊâÄÂú®ÁöÑË∑ØÂæÑÔºåÈªòËÆ§ÂÄº‰∏∫.&#x2F;ÔºåË°®Á§∫Âú®Êï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÁõÆÂΩï‰∏ã„ÄÇMySQLÁöÑÈªòËÆ§Êï∞ÊçÆÁõÆÂΩïÔºà var&#x2F;lib&#x2F;mysql Ôºâ‰∏ãÈªòËÆ§Êúâ‰∏§‰∏™Âêç‰∏∫ ib_logfile0 Âíåib_logfile1 ÁöÑÊñá‰ª∂Ôºålog buffer‰∏≠ÁöÑÊó•ÂøóÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞±ÊòØÂà∑Êñ∞Âà∞Ëøô‰∏§‰∏™Á£ÅÁõòÊñá‰ª∂‰∏≠„ÄÇÊ≠§redoÊó•ÂøóÊñá‰ª∂‰ΩçÁΩÆËøòÂèØ‰ª•‰øÆÊîπ„ÄÇ<br><strong>innodb_log_files_in_groupÔºàlog_filesÊñá‰ª∂‰∏™Êï∞Ôºâ</strong>ÔºöÊåáÊòéredo log fileÁöÑ‰∏™Êï∞ÔºåÂëΩÂêçÊñπÂºèÂ¶ÇÔºöib_logfile0Ôºåiblogfile1‚Ä¶</p>
<p><img src="/image/mysql/mysql62.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>ÈááÁî®Âæ™ÁéØ‰ΩøÁî®ÁöÑÊñπÂºèÂêëredoÊó•ÂøóÊñá‰ª∂ÁªÑÈáåÂÜôÊï∞ÊçÆ</p>
<p>write posÊòØÂΩìÂâçËÆ∞ÂΩïÁöÑ‰ΩçÁΩÆÔºå‰∏ÄËæπÂÜô‰∏ÄËæπÂæÄÂêéÁßªÂä®</p>
<p>checkoutÊòØÂΩìÂâçË¶ÅÊì¶Èô§ÁöÑ‰ΩçÁΩÆÔºå‰∏ÄËæπÂà†Èô§‰∏ÄËæπÂæÄÂêéÁßªÔºåÂà†Èô§Â∞±ÊòØÊåáÂ∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞Á£ÅÁõò‰∏≠ÂêéÔºåÂ∞±ÂèØ‰ª•ÊÉÖÂà†Èô§Êó•ÂøóÊñá‰ª∂‰∏≠ÁöÑËÆ∞ÂΩï‰∫Ü„ÄÇ</p>
<p><img src="/image/mysql/mysql63.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h2 id="6-2-undoÊó•Âøó"><a href="#6-2-undoÊó•Âøó" class="headerlink" title="6.2 undoÊó•Âøó"></a>6.2 undoÊó•Âøó</h2><p>Âú®‰∫ãÂä°‰∏≠ <code>Êõ¥Êñ∞Êï∞ÊçÆ</code> ÁöÑ ÂâçÁΩÆÊìç‰Ωú ÂÖ∂ÂÆûÊòØË¶ÅÂÖàÂÜôÂÖ•‰∏Ä‰∏™ <code>undo log</code> „ÄÇ</p>
<p>undo logÂπ∂‰∏çÊòØÁúüÊ≠£ÁöÑÊÅ¢Â§çÂà∞ÂéüÊù•‰∫ãÂä°ÂºÄÂêØÂâçÁöÑÁä∂ÊÄÅÔºåËÄåÊòØÂèçÂêëÊìç‰ΩúÔºåÂç≥Â¶ÇÊûú‰∫ãÂä°‰∏≠ËøõË°åÁöÑÊòØinsertÔºåÂú®undo log ‰∏≠ËÆ∞ÂΩïÁöÑÂ∞±ÊòØdeleteÔºåÂ¶ÇÊûúÊòØupdateÔºåundoÊó•Âøó‰∏≠ËÆ∞ÂΩïÁöÑÂ∞±ÊòØÂèçÂêëÁöÑupdateÔºåÂç≥ÈÄªËæë‰∏äÂõûÂà∞ÂéüÊù•ÁöÑÊïàÊûú</p>
<p>InnoDBÂØπundo logÁöÑÁÆ°ÁêÜÈááÁî®ÊÆµÁöÑÊñπÂºèÔºå‰πüÂ∞±ÊòØ <code>ÂõûÊªöÊÆµÔºàrollback segmentÔºâ</code> „ÄÇÊØè‰∏™ÂõûÊªöÊÆµËÆ∞ÂΩï‰∫Ü1024 ‰∏™ <code>undo log segment</code>ÔºåËÄåÂú®ÊØè‰∏™<code>undo log segment</code>ÊÆµ‰∏≠ËøõË°å <code>undoÈ°µ</code> ÁöÑÁî≥ËØ∑„ÄÇ</p>
<p>ÊØè‰∏™‰∫ãÂä°Âè™‰ºö‰ΩøÁî®‰∏Ä‰∏™ÂõûÊªöÊÆµÔºåÂΩìÊï∞ÊçÆË¢´‰øÆÊîπÊó∂ÔºåÈô¢Â£´ÁöÑÊï∞ÊçÆ‰ºöË¢´ËµãÂÄºÂà∞ÂõûÊªöÊÆµ‰∏≠Ôºå‰ΩÜÊòØÁî±‰∫éundo log È°µÂèØ‰ª•ÈáçÁî®ÔºåÊâÄ‰ª•‰∏Ä‰∏™ÂõûÊªöÊÆµÂú®Âêå‰∏ÄÊó∂ÂàªÂèØ‰ª•ÊúçÂä°Â§ö‰∏™‰∫ãÂä°„ÄÇ</p>
<hr>
<p><strong>ÂõûÊªöÊÆµ‰∏≠ÁöÑÊï∞ÊçÆÂàÜÁ±ª</strong></p>
<ol>
<li>‰∫ãÂä°Êú™Êèê‰∫§ÁöÑÂõûÊªöÊï∞ÊçÆÔºöËØ•Êï∞ÊçÆÊòØ‰øùÂ≠òÁöÑË¢´‰øÆÊîπÊï∞ÊçÆÂØπÂ∫îÁöÑÂéüÂßãÊï∞ÊçÆÔºåÂÆÉÂÖ≥ËÅîÁöÑ‰∫ãÂä°Ê≤°ÊúâÊèê‰∫§ÔºåÁî®‰∫éÂÆûÁé∞‰∫ãÂä°‰∏ÄËá¥ÊÄßÁâπÊÄß</li>
<li>‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§‰ΩÜÊú™ËøáÊúüÁöÑÂõûÊªöÊï∞ÊçÆ</li>
<li>‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§Âπ∂‰∏îËøáÊúüÁöÑÂõûÊªöÊï∞ÊçÆ</li>
</ol>
<hr>
<p><img src="/image/mysql/mysql65.png" srcset="/image/beautify/loading.gif" lazyload></p>
<hr>
<p>ÂÖàÊâæÊòØÂê¶ÊúâÂä†ËΩΩÂØπÂ∫îÁöÑBufferPoolÊúâÂ∞±‰ΩøÁî®Ê≤°ÊúâÂ∞±Âä†ËΩΩËØªÂèñ ‚Äî-&gt; ÂÜôÂÖ•UndoLog ‚Äî&gt;Êìç‰ΩúÊâßË°åÊï∞ÊçÆ ‚Äî&gt; ÂÜôÂÖ•RedoLogBufferÂÜÖÂ≠ò ‚Äî-&gt; ÂÜôÂÖ•RedoLogÂà∞Á£ÅÁõòÊñá‰ª∂</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/MySQL/" class="category-chain-item">MySQL</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Linux/" class="print-no-link">#Linux</a>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/" class="print-no-link">#Êï∞ÊçÆÂ∫ìÈ´òÁ∫ß</a>
      
        <a href="/tags/%E4%BA%8B%E5%8A%A1/" class="print-no-link">#‰∫ãÂä°</a>
      
        <a href="/tags/%E6%97%A5%E5%BF%97/" class="print-no-link">#Êó•Âøó</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MySQL-‰∫ãÂä°</div>
      <div>https://vickkkyz.fun/2022/04/07/ËÆ°ÁÆóÊú∫/mysql/‰∫ãÂä°/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>Vickkkyz</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2022Âπ¥4Êúà7Êó•</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>ËÆ∏ÂèØÂçèËÆÆ</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B0%83%E5%8C%96/" title="MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/27/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/%E8%8C%83%E5%BC%8F/" title="MySQL-ËåÉÂºè">
                        <span class="hidden-mobile">MySQL-ËåÉÂºè</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ÁõÆÂΩï</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
<!-- Load TweenLite --> <script src="https://cdn.jsdelivr.net/npm/greensock@1.20.2/dist/TweenLite.js"></script>
<!-- Copyrighted cubism SDK --> <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script> <!-- Load Pixi (dependency for cubism 2/4 integrated loader) --> <script src="https://cdn.jsdelivr.net/npm/pixi.js@5.3.6/dist/pixi.min.js"></script> <!-- Load cubism 4 integrated loader --> <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display@0.3.1/dist/cubism4.min.js"></script>
<!-- Load pio and alternative loader --> <link href="https://cdn.jsdelivr.net/gh/vickkkyz/vickkkyz.github.io@2.0/css/pio.css" rel="stylesheet" type="text/css"/> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/pio.js"></script> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/pio_sdk4.js"></script> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/load.js"></script>
<!-- È°µËÑöÊ∑ªÂä†ÁΩëÁ´ôËøêË°åÊó∂Èó¥ --> <div> <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span> <span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span> <script src="/js/duration.js"></script> </div> <a href="https://icp.gov.moe/?keyword=20249336" target="_blank">ËêåICPÂ§á20249336Âè∑</a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>




  
<script src="https://cdn.jsdelivr.net/gh/bynotes/texiao/source/js/yinghua.js"></script>



<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script><!-- hexo injector body_end end --></body>
</html>
