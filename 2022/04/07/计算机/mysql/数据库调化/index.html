

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <!-- ÈÄöËøácdnÂºïÂÖ•ÈúûÈπ≠ÊñáÊ•∑Â≠ó‰Ωì -->
  <link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css" media="print"
    onload="this.media='all'">
  <link rel="apple-touch-icon" sizes="76x76" href="/image/beautify/favicon.ico">
  <link rel="icon" href="/image/beautify/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Vickkkyz">
  <meta name="keywords" content="">
  
    <meta name="description" content="Êï∞ÊçÆÂ∫ìË∞É‰ºòÁöÑÊ≠•È™§Ôºö  1.ÂàÜÊûê1.1 Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞1SHOW [GLOBAL|SESSION] STATUS LIKE &amp;#x27;ÂèÇÊï∞&amp;#x27;;  ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊÄßËÉΩÂèÇÊï∞Â¶Ç‰∏ãÔºö ‚Ä¢ ConnectionsÔºöËøûÊé•MySQLÊúçÂä°Âô®ÁöÑÊ¨°Êï∞„ÄÇ ‚Ä¢ UptimeÔºöMySQLÊúçÂä°Âô®ÁöÑ‰∏äÁ∫øÊó∂Èó¥„ÄÇ ‚Ä¢ Slow_queriesÔºöÊÖ¢Êü•ËØ¢ÁöÑÊ¨°Êï∞„ÄÇ ‚Ä¢ Innodb_rows_readÔºöSelectÊü•ËØ¢ËøîÂõûÁöÑË°åÊï∞">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò">
<meta property="og:url" content="https://vickkkyz.fun/2022/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B0%83%E5%8C%96/index.html">
<meta property="og:site_name" content="Vickkkyz&#39;s Home">
<meta property="og:description" content="Êï∞ÊçÆÂ∫ìË∞É‰ºòÁöÑÊ≠•È™§Ôºö  1.ÂàÜÊûê1.1 Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞1SHOW [GLOBAL|SESSION] STATUS LIKE &amp;#x27;ÂèÇÊï∞&amp;#x27;;  ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊÄßËÉΩÂèÇÊï∞Â¶Ç‰∏ãÔºö ‚Ä¢ ConnectionsÔºöËøûÊé•MySQLÊúçÂä°Âô®ÁöÑÊ¨°Êï∞„ÄÇ ‚Ä¢ UptimeÔºöMySQLÊúçÂä°Âô®ÁöÑ‰∏äÁ∫øÊó∂Èó¥„ÄÇ ‚Ä¢ Slow_queriesÔºöÊÖ¢Êü•ËØ¢ÁöÑÊ¨°Êï∞„ÄÇ ‚Ä¢ Innodb_rows_readÔºöSelectÊü•ËØ¢ËøîÂõûÁöÑË°åÊï∞">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql21.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql23.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql24.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql25.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql26.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql27.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql28.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql29.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql30.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql31.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql32.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql33.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql34.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql35.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql37.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql36.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql38.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql39.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql40.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql41.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql42.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql43.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql44.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql47.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql46.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql48.png">
<meta property="og:image" content="https://vickkkyz.fun/image/mysql/mysql49.png">
<meta property="article:published_time" content="2022-04-07T01:04:30.000Z">
<meta property="article:modified_time" content="2023-01-26T08:58:41.397Z">
<meta property="article:author" content="Vickkkyz">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Êï∞ÊçÆÂ∫ìÈ´òÁ∫ß">
<meta property="article:tag" content="EXPLAIN">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://vickkkyz.fun/image/mysql/mysql21.png">
  
  
  
  <title>MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò - Vickkkyz&#39;s Home</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/cloudedGlass.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"vickkkyz.fun","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"üç≠","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/image/beautify/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  

  <!--ÊµèËßàÂô®ÊêûÁ¨ëÊ†áÈ¢ò-->
  <script type="text/javascript" src="\js\FunnyTitle.js"></script>

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Vickkkyz„ÅÆBlog(*/œâÔºº*)</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>È¶ñÈ°µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Êó∂Èó¥ËΩ¥</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>ÂàÜÁ±ª</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>ÂÖ≥‰∫éÊàë</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/image/homePage/paperDefault5.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.2)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-04-07 09:04" pubdate>
          2022Âπ¥4Êúà7Êó• ‰∏äÂçà
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.1k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          43 ÂàÜÈíü
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò</h1>
            
            
              <div class="markdown-body">
                
                <p>Êï∞ÊçÆÂ∫ìË∞É‰ºòÁöÑÊ≠•È™§Ôºö</p>
<p><img src="/image/mysql/mysql21.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h1 id="1-ÂàÜÊûê"><a href="#1-ÂàÜÊûê" class="headerlink" title="1.ÂàÜÊûê"></a>1.ÂàÜÊûê</h1><h2 id="1-1-Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞"><a href="#1-1-Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞" class="headerlink" title="1.1 Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞"></a>1.1 Êü•ÁúãÁ≥ªÁªüÊÄßËÉΩÂèÇÊï∞</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SHOW [GLOBAL|SESSION] STATUS LIKE &#x27;ÂèÇÊï∞&#x27;;<br></code></pre></td></tr></table></figure>

<p>‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊÄßËÉΩÂèÇÊï∞Â¶Ç‰∏ãÔºö</p>
<pre><code class="hljs">‚Ä¢ ConnectionsÔºöËøûÊé•MySQLÊúçÂä°Âô®ÁöÑÊ¨°Êï∞„ÄÇ
‚Ä¢ UptimeÔºöMySQLÊúçÂä°Âô®ÁöÑ‰∏äÁ∫øÊó∂Èó¥„ÄÇ
‚Ä¢ Slow_queriesÔºöÊÖ¢Êü•ËØ¢ÁöÑÊ¨°Êï∞„ÄÇ
‚Ä¢ Innodb_rows_readÔºöSelectÊü•ËØ¢ËøîÂõûÁöÑË°åÊï∞
‚Ä¢ Innodb_rows_insertedÔºöÊâßË°åINSERTÊìç‰ΩúÊèíÂÖ•ÁöÑË°åÊï∞
‚Ä¢ Innodb_rows_updatedÔºöÊâßË°åUPDATEÊìç‰ΩúÊõ¥Êñ∞ÁöÑË°åÊï∞
‚Ä¢ Innodb_rows_deletedÔºöÊâßË°åDELETEÊìç‰ΩúÂà†Èô§ÁöÑË°åÊï∞
‚Ä¢ Com_selectÔºöÊü•ËØ¢Êìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇ
‚Ä¢ Com_insertÔºöÊèíÂÖ•Êìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇÂØπ‰∫éÊâπÈáèÊèíÂÖ•ÁöÑ INSERT Êìç‰ΩúÔºåÂè™Á¥ØÂä†‰∏ÄÊ¨°„ÄÇ
‚Ä¢ Com_updateÔºöÊõ¥Êñ∞Êìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇ
‚Ä¢ Com_deleteÔºöÂà†Èô§Êìç‰ΩúÁöÑÊ¨°Êï∞„ÄÇ
</code></pre>
<p>Êü•ËØ¢Áé∞Âú®ÊúâÂ§öÂ∞ëÊù°ÊÖ¢Êü•ËØ¢ËÆ∞ÂΩï</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; SHOW GLOBAL STATUS LIKE &#x27;%Slow_queries%&#x27;;<br>+---------------+-------+<br>| Variable_name | Value |<br>+---------------+-------+<br>| Slow_queries  | 0     |<br>+---------------+-------+<br>1 row in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<h2 id="1-2-ÁªüËÆ°SQLÁöÑÊü•ËØ¢ÊàêÊú¨"><a href="#1-2-ÁªüËÆ°SQLÁöÑÊü•ËØ¢ÊàêÊú¨" class="headerlink" title="1.2 ÁªüËÆ°SQLÁöÑÊü•ËØ¢ÊàêÊú¨"></a>1.2 ÁªüËÆ°SQLÁöÑÊü•ËØ¢ÊàêÊú¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SHOW STATUS LIKE &#x27;last_query_cost&#x27;;<br></code></pre></td></tr></table></figure>

<p>Êü•ËØ¢ÊúÄËøë‰∏ÄÊ¨°ÊâßË°åÁöÑSQLÂëΩ‰ª§ÈúÄË¶ÅÊ£ÄÁ¥¢ÁöÑÈ°µÁöÑ‰∏™Êï∞„ÄÇ</p>
<h1 id="2-ÂÆö‰ΩçÊâßË°åÊÖ¢ÁöÑ-SQL"><a href="#2-ÂÆö‰ΩçÊâßË°åÊÖ¢ÁöÑ-SQL" class="headerlink" title="2.ÂÆö‰ΩçÊâßË°åÊÖ¢ÁöÑ SQL"></a>2.ÂÆö‰ΩçÊâßË°åÊÖ¢ÁöÑ SQL</h1><p>Â¶ÇÊûúÊàë‰ª¨Âú®ÂàÜÊûêÊúçÂä°Âô®Áä∂ÊÄÅÊó∂ÂèëÁé∞ËøòÊòØÊØîËæÉÊÖ¢ÂíåÂç°È°øÔºåÂ∞±ÈúÄË¶ÅÊâæÂà∞ÊâßË°åÊØîËæÉÊÖ¢ÁöÑSQL„ÄÇ</p>
<p>MySQLÁöÑÊÖ¢Êü•ËØ¢Êó•ÂøóÁî®Êù•ËÆ∞ÂΩïÂú®MySQL‰∏≠ÂìçÂ∫îÊó∂Èó¥Ë∂ÖËøáÈòàÂÄºÁöÑËØ≠Âè•ÔºåÁÑ∂ÂêéÊàë‰ª¨ÊâæÂà∞Ëøô‰∫õÊÖ¢ÁöÑSQLËØ≠Âè•ÊúâÈíàÂØπÊÄßÁöÑËÆ∞ÊÄß‰ºòÂåñ„ÄÇÈªòËÆ§MySQLÊï∞ÊçÆÂ∫ìÊ≤°ÊúâÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÔºåÈúÄË¶ÅÊâãÂä®ËÆæÁΩÆÔºå<strong>Â¶ÇÊûú‰∏çÊòØË∞É‰ºòÈúÄË¶ÅÔºå‰∏ÄËà¨‰∏çË¶ÅÂºÄÂêØÔºåÂõ†‰∏∫‰ºöÂΩ±ÂìçÊÄßËÉΩ„ÄÇ</strong></p>
<h2 id="2-1-ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂèÇÊï∞"><a href="#2-1-ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂèÇÊï∞" class="headerlink" title="2.1 ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂèÇÊï∞"></a>2.1 ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂèÇÊï∞</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; show variables like &#x27;%slow_query_log%&#x27;;<br>+----------------+-------+<br>| Variable_name  | Value |<br>+----------------+-------+<br>| slow_query_log | OFF   |  //ÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ<br>+----------------+-------+<br>1 row in set (0.00 sec)<br><br>mysql&gt; set global slow_query_log = on;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; show variables like &#x27;%slow_query_log%&#x27;;<br>+---------------------+-------------------------------------------------+<br>| Variable_name       | Value                                           |<br>+---------------------+-------------------------------------------------+<br>| slow_query_log      | ON                                              |<br>| slow_query_log_file | /var/lib/mysql/iz2zeip0loevltpebhi0txz-slow.log |<br>+---------------------+-------------------------------------------------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<p>Êü•ÁúãÈòàÂÄº<code>(ÊâßË°åÊó∂Èó¥Ë∂ÖËøáËøô‰∏™ÈòàÂÄºÁöÑSQLËØ≠Âè•Ë¢´ËÆ§‰∏∫ÊòØÊÖ¢SQL)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; show variables like &#x27;%long_query_time&#x27;;<br>+-----------------+-----------+<br>| Variable_name   | Value     |<br>+-----------------+-----------+<br>| long_query_time | 10.000000 |<br>+-----------------+-----------+<br>1 row in set (0.01 sec)<br><br>mysql&gt; set global long_query_time = 1;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; show global variables like &#x27;%long_query_time%&#x27;;<br>+-----------------+----------+<br>| Variable_name   | Value    |<br>+-----------------+----------+<br>| long_query_time | 1.000000 |<br>+-----------------+----------+<br>1 row in set (0.01 sec)<br><br>mysql&gt; set long_query_time=1;<br>Query OK, 0 rows affected (0.00 sec)<br><br>mysql&gt; show variables like &#x27;%long_query_time%&#x27;;<br>+-----------------+----------+<br>| Variable_name   | Value    |<br>+-----------------+----------+<br>| long_query_time | 1.000000 |<br>+-----------------+----------+<br>1 row in set (0.00 sec)<br></code></pre></td></tr></table></figure>

<h2 id="2-2-ÊÖ¢Êü•ËØ¢Êó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑"><a href="#2-2-ÊÖ¢Êü•ËØ¢Êó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑" class="headerlink" title="2.2 ÊÖ¢Êü•ËØ¢Êó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑"></a>2.2 ÊÖ¢Êü•ËØ¢Êó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑</h2><p>MySQLÊèê‰æõ‰∫ÜÊó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑<code>mysqldumpslow</code>„ÄÇÈÄöËøámysqldumpslow ÂèØ‰ª•Êü•ÁúãÊÖ¢Êü•ËØ¢Êó•Âøó</p>
<p><strong>mysqldumpslow ÂëΩ‰ª§ÁöÑÂÖ∑‰ΩìÂèÇÊï∞Â¶Ç‰∏ã</strong>Ôºö</p>
<blockquote>
<p>-a: ‰∏çÂ∞ÜÊï∞Â≠óÊäΩË±°ÊàêNÔºåÂ≠óÁ¨¶‰∏≤ÊäΩË±°ÊàêS<br>-s: ÊòØË°®Á§∫ÊåâÁÖß‰ΩïÁßçÊñπÂºèÊéíÂ∫èÔºö<br>    c: ËÆøÈóÆÊ¨°Êï∞<br>    l: ÈîÅÂÆöÊó∂Èó¥<br>    r: ËøîÂõûËÆ∞ÂΩï<br>    t: Êü•ËØ¢Êó∂Èó¥<br>    al:Âπ≥ÂùáÈîÅÂÆöÊó∂Èó¥<br>    ar:Âπ≥ÂùáËøîÂõûËÆ∞ÂΩïÊï∞<br>    at:Âπ≥ÂùáÊü•ËØ¢Êó∂Èó¥ ÔºàÈªòËÆ§ÊñπÂºèÔºâ<br>    ac:Âπ≥ÂùáÊü•ËØ¢Ê¨°Êï∞<br>-t: Âç≥‰∏∫ËøîÂõûÂâçÈù¢Â§öÂ∞ëÊù°ÁöÑÊï∞ÊçÆÔºõ<br>-g: ÂêéËæπÊê≠ÈÖç‰∏Ä‰∏™Ê≠£ÂàôÂåπÈÖçÊ®°ÂºèÔºåÂ§ßÂ∞èÂÜô‰∏çÊïèÊÑüÁöÑÔºõ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysqldumpslow -a -s t -t 5 /var/lib/mysql/iz2zeip0loevltpebhi0txz-slow.log<br></code></pre></td></tr></table></figure>

<p>ËøîÂõûÁöÑÂ∞±ÊòØÊÖ¢SQLÁöÑËØ≠Âè•ÔºåÁÑ∂ÂêéÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑EXPLAINÊù•ÂàÜÊûêËøô‰∏™SQLËØ≠Âè•</p>
<hr>
<p><strong>Â¶Ç‰ΩïÂÖ≥Èó≠ÊÖ¢Êü•ËØ¢Êó•ÂøóÔºü</strong></p>
<p>MySQLÊúçÂä°Âô®ÂÅúÊ≠¢ÊÖ¢Êü•ËØ¢Êó•ÂøóÂäüËÉΩÊúâ‰∏§ÁßçÊñπÊ≥ïÔºö</p>
<p>‚ë†ÊñπÂºè1ÔºöÊ∞∏‰πÖÊÄßÊñπÂºè</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#ÈÖçÁΩÆÊñá‰ª∂<br>[mysqld]<br>slow_query_log=OFF<br></code></pre></td></tr></table></figure>

<p>ÊâßË°åÂÆåÂêéÈúÄË¶ÅÈáçÂêØÊâçËÉΩÁîüÊïà</p>
<p>‚ë°ÊñπÂºè2Ôºö‰∏¥Êó∂ÊÄßÊñπÂºè</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SET GLOBAL slow_query_log=off;<br></code></pre></td></tr></table></figure>

<hr>
<p><strong>Â¶Ç‰ΩïÂà†Èô§ÊÖ¢Êü•ËØ¢Êó•Âøó</strong>Ôºü</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysqladmin -uroot -p flush-logs slow //ÈáçÂª∫<br></code></pre></td></tr></table></figure>

<p>ÈáçÊñ∞ÁîüÊàêÊÖ¢Êü•ËØ¢Êó•ÂøóÊñá‰ª∂</p>
<h1 id="3-EXPLAINÂàÜÊûêÊÖ¢SQL"><a href="#3-EXPLAINÂàÜÊûêÊÖ¢SQL" class="headerlink" title="3.EXPLAINÂàÜÊûêÊÖ¢SQL"></a>3.EXPLAINÂàÜÊûêÊÖ¢SQL</h1><p>EXPLAINÊü•ÁúãSQLËØ≠Âè•ÁöÑÊâßË°åËÆ°ÂàíÔºåÂπ∂‰∏çÊòØÁúüÊ≠£ÊâßË°åËøô‰∏™SQLËØ≠Âè•ÔºåËÄåÊòØÁúãÁúãÂ¶ÇÊûúË¶ÅÊâßË°åÂÆÉÔºå‰ºòÂåñÂô®‰ºöÈááÂèñ‰ªÄ‰πàÊ†∑ÁöÑÊ≠•È™§</p>
<p>MySQL 5.6.3‰ª•ÂâçÂè™ËÉΩ <code>EXPLAIN SELECT</code>ÔºõMYSQL 5.6.3‰ª•ÂêéÂ∞±ÂèØ‰ª• <code>EXPLAIN SELECTÔºåUPDATEÔºåDELETE</code></p>
<h2 id="3-1EXPLAINÂêÑ‰∏™Â≠óÊÆµ"><a href="#3-1EXPLAINÂêÑ‰∏™Â≠óÊÆµ" class="headerlink" title="3.1EXPLAINÂêÑ‰∏™Â≠óÊÆµ"></a>3.1EXPLAINÂêÑ‰∏™Â≠óÊÆµ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">EXPLAIN SELECT ...<br>#ÊàñËÄÖ<br>DESCRIBE SELECT ...<br></code></pre></td></tr></table></figure>

<p><img src="/image/mysql/mysql23.png" srcset="/image/beautify/loading.gif" lazyload></p>
<hr>
<p>Áõ∏ÂÖ≥Êï∞ÊçÆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE s1 (<br>	 id INT AUTO_INCREMENT,<br>	 key1 VARCHAR(100),<br>	 key2 INT,<br>	 key3 VARCHAR(100),<br>	 key_part1 VARCHAR(100),<br>	 key_part2 VARCHAR(100),<br>	 key_part3 VARCHAR(100),<br>	 common_field VARCHAR(100),<br>	  PRIMARY KEY (id),<br>	  INDEX idx_key1 (key1),<br>	  UNIQUE INDEX idx_key2 (key2),<br>	  INDEX idx_key3 (key3),<br>	  INDEX idx_key_part(key_part1, key_part2, key_part3)<br>) ENGINE=INNODB CHARSET=utf8;<br><br>CREATE TABLE s2 (<br>	 id INT AUTO_INCREMENT,<br>	 key1 VARCHAR(100),<br>	 key2 INT,<br>	 key3 VARCHAR(100),<br>	 key_part1 VARCHAR(100),<br>	 key_part2 VARCHAR(100),<br>	 key_part3 VARCHAR(100),<br>	 common_field VARCHAR(100),<br>	  PRIMARY KEY (id),<br>	  INDEX idx_key1 (key1),<br>	  UNIQUE INDEX idx_key2 (key2),<br>	  INDEX idx_key3 (key3),<br>	  INDEX idx_key_part(key_part1, key_part2, key_part3)<br>) ENGINE=INNODB CHARSET=utf8;<br><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="‚ë†table"><a href="#‚ë†table" class="headerlink" title="‚ë†table"></a><strong>‚ë†table</strong></h3><p>EXPLAINËØ≠Âè•ËæìÂá∫ÁöÑÊØèÊù°ËÆ∞ÂΩïÈÉΩÂØπÂ∫îÁùÄÊüê‰∏™ÂçïË°®ÁöÑËÆøÈóÆÊñπÊ≥ï,ËØ•Êù°ËÆ∞ÂΩïÁöÑtableÂàó‰ª£Ë°®ÁùÄËØ•Ë°®ÁöÑË°®ÂêçÔºàÊúâÊó∂‰∏çÊòØÁúüÂÆûÁöÑË°®ÂêçÂ≠óÔºåÂèØËÉΩÊòØÁÆÄÁß∞Ôºâ„ÄÇÊúâÂá†‰∏™Ë°®Â∞±ÊúâÂá†Ë°åËÆ∞ÂΩïÁªìÊûú</p>
<p>ÊØîÂ¶ÇÔºö<code>EXPLAIN SELECT * from s1;</code></p>
<p><img src="/image/mysql/mysql24.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p><code>EXPLAIN SELECT * FROM s1 INNER JOIN s2;</code>Êúâ‰∏§Êù°ËÆ∞ÂΩïÁªìÊûúÔºåÂÆÉÁöÑtableÂàóÂàÜÂà´ÊòØs1„ÄÅs2</p>
<p><img src="/image/mysql/mysql25.png" srcset="/image/beautify/loading.gif" lazyload></p>
<hr>
<h3 id="‚ë°id"><a href="#‚ë°id" class="headerlink" title="‚ë°id"></a><strong>‚ë°id</strong></h3><p>Âú®‰∏Ä‰∏™Â§ßÁöÑÊü•ËØ¢ËØ≠Âè•‰∏≠ÊØè‰∏™SELECTÂÖ≥ÈîÆÂ≠óÈÉΩÂØπÂ∫î‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑid</p>
<p>Â¶ÇÊûúÊúâÂ≠êÊü•ËØ¢ÔºåÂπ∂‰∏îÊü•ËØ¢‰ºòÂåñÂô®Ê≤°ÊúâÂ∞ÜÂÆÉ‰ºòÂåñ‰∏∫Â§öË°®Êü•ËØ¢Ôºå‰∏ÄËà¨Â∞±ÊúâÂ§ö‰∏™idÂÄº</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2) OR key3 = &#x27;a&#x27;;<br></code></pre></td></tr></table></figure>

<p><img src="/image/mysql/mysql26.png" srcset="/image/beautify/loading.gif" lazyload></p>
<ul>
<li><p>idÂ¶ÇÊûúÁõ∏ÂêåÔºåÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰∏ÄÁªÑÔºå‰ªé‰∏äÂæÄ‰∏ãÈ°∫Â∫èÊâßË°å</p>
</li>
<li><p>Âú®ÊâÄÊúâÁªÑ‰∏≠ÔºåidÂÄºË∂äÂ§ßÔºå‰ºòÂÖàÁ∫ßË∂äÈ´òÔºåË∂äÂÖàÊâßË°å</p>
</li>
<li><p>ÂÖ≥Ê≥®ÁÇπÔºöidÂè∑ÊØè‰∏™Âè∑Á†ÅÔºåË°®Á§∫‰∏ÄË∂üÁã¨Á´ãÁöÑÊü•ËØ¢, ‰∏Ä‰∏™sqlÁöÑÊü•ËØ¢Ë∂üÊï∞Ë∂äÂ∞ëË∂äÂ•Ω</p>
</li>
</ul>
<h3 id="‚ë¢select-type"><a href="#‚ë¢select-type" class="headerlink" title="‚ë¢select_type"></a><strong>‚ë¢select_type</strong></h3><p><img src="/image/mysql/mysql27.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="SIMPLE"><a href="#SIMPLE" class="headerlink" title="SIMPLE"></a><font color='red'>SIMPLE</font></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s1;<br></code></pre></td></tr></table></figure>

<p>Ëøô‰∏™ËØ≠Âè•ÁöÑÁ±ªÂûãÊòØSIMPLEÔºåËøûÊé•Êü•ËØ¢<code>EXPLAIN SELECT * FROM s1 INNER JOIN s2;</code>‰πüÊòØ SIMPLE Á±ªÂûã</p>
<h4 id="PRIMARY„ÄÅUNION„ÄÅUNION-RESULT"><a href="#PRIMARY„ÄÅUNION„ÄÅUNION-RESULT" class="headerlink" title="PRIMARY„ÄÅUNION„ÄÅUNION RESULT"></a><font color='red'>PRIMARY„ÄÅUNION„ÄÅUNION RESULT</font></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s1 <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s2;<br></code></pre></td></tr></table></figure>

<p>ÂØπ‰∫éÂåÖÂê´UNIONÊàñUNION ALLÊàñËÄÖÂ≠êÊü•ËØ¢ÁöÑÂ§ßÊü•ËØ¢Êù•ËØ¥ÔºåÂÆÉÊòØÁî±Âá†‰∏™Â∞èÊü•ËØ¢ÁªÑÊàêÁöÑÔºåÊúÄÂ∑¶Ëæπ(ÊàñËÄÖÊòØÂ§ñÂ±ÇÁöÑË°®)ÁöÑÊü•ËØ¢ÁöÑselect_typeÁöÑÂÄºÊòØprimaryÔºåÂÖ∂‰ΩôÁöÑÂ∞èÊü•ËØ¢ÁöÑselect_typeÊòØUNIONÔºå‰ΩøÁî®‰∏¥Êó∂Ë°®ÂØπUNIONËøõË°åÂéªÈáçÔºåÈíàÂØπËØ•‰∏¥Êó∂Ë°®ÁöÑÊü•ËØ¢ÁöÑselect_type‰∏∫UNION RESULT</p>
<p><img src="/image/mysql/mysql28.png" srcset="/image/beautify/loading.gif" lazyload></p>
<blockquote>
<p>SQLËØ≠Âè•1   UNION&#x2F;UNION ALL  SQLËØ≠Âè•2</p>
<p>‰∏§‰∏™SQLËØ≠Âè•ÊâßË°åÁöÑÁõÆÊ†áË°®ÁöÑÁªìÊûÑÂøÖÈ°ªÊòØ‰∏ÄÊ†∑ÁöÑ</p>
<p>UNIONÂíåUNION ALLÂÖ≥ÈîÆÂ≠óÈÉΩÊòØÂ∞Ü‰∏§‰∏™ÁªìÊûúÈõÜÂêàÂπ∂‰∏∫‰∏Ä‰∏™Ôºå‰∏çËøáUNION ALL‰∏çÂéªÈáçÔºåËøîÂõûÊâÄÊúâË°åËÆ∞ÂΩïÔºåUNIONÂéªÈáçÔºå‰ºöÊåâÁÖßÂ≠óÊÆµÁöÑÈ°∫Â∫èËøõË°åÊéíÂ∫èÔºåÁÑ∂ÂêéÂéªÈô§ÈáçÂ§çÁöÑË°åËÆ∞ÂΩïÔºåÁÑ∂ÂêéÂÜçËøîÂõû</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from student;<br>+----+-------+------+------+---------+<br>| id | stuno | name | age  | classId |<br>+----+-------+------+------+---------+<br>|  1 |     1 | 1    |    1 |       1 |<br>|  2 |     2 | 2    |    2 |       2 |<br>+----+-------+------+------+---------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; select * from student_copy;<br>+----+-------+------+------+---------+<br>| id | stuno | name | age  | classId |<br>+----+-------+------+------+---------+<br>|  1 |     1 | 1    |    1 |       1 |<br>|  2 |     2 | 2    |    2 |       2 |<br>+----+-------+------+------+---------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; select * from student union select * from student_copy;<br>+----+-------+------+------+---------+<br>| id | stuno | name | age  | classId |<br>+----+-------+------+------+---------+<br>|  1 |     1 | 1    |    1 |       1 |<br>|  2 |     2 | 2    |    2 |       2 |<br>+----+-------+------+------+---------+<br>2 rows in set (0.00 sec)<br><br>mysql&gt; select * from student union all select * from student_copy;<br>+----+-------+------+------+---------+<br>| id | stuno | name | age  | classId |<br>+----+-------+------+------+---------+<br>|  1 |     1 | 1    |    1 |       1 |<br>|  2 |     2 | 2    |    2 |       2 |<br>|  1 |     1 | 1    |    1 |       1 |<br>|  2 |     2 | 2    |    2 |       2 |<br>+----+-------+------+------+---------+<br>4 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
</blockquote>
<h4 id="SUBQUERY„ÄÅDEPENDENT-SUBQUERY"><a href="#SUBQUERY„ÄÅDEPENDENT-SUBQUERY" class="headerlink" title="SUBQUERY„ÄÅDEPENDENT SUBQUERY"></a><font color='red'>SUBQUERY„ÄÅDEPENDENT SUBQUERY</font></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s1 <span class="hljs-keyword">WHERE</span> key1 <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> key1 <span class="hljs-keyword">FROM</span> s2) <span class="hljs-keyword">OR</span> key3 <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;a&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>inÂêéÈù¢ÁöÑÂ≠êÊü•ËØ¢<code>SELECT key1 FROM s2</code>ÊòØ‰∏çÁõ∏ÂÖ≥Â≠êÊü•ËØ¢</p>
<p><img src="/image/mysql/mysql29.png" srcset="/image/beautify/loading.gif" lazyload></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2 WHERE s1.key2 = s2.key2) OR key3 = &#x27;a&#x27;;<br></code></pre></td></tr></table></figure>

<p>inÂêéÈù¢ÁöÑÂ≠êÊü•ËØ¢ÊòØÁõ∏ÂÖ≥Â≠êÊü•ËØ¢</p>
<p><img src="/image/mysql/mysql30.png" srcset="/image/beautify/loading.gif" lazyload></p>
<blockquote>
<p>‰∏çÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºöÂ≠êÊü•ËØ¢ÁöÑ‰∏çÈúÄË¶ÅÁà∂Êü•ËØ¢ÊääÁªìÊûú‰º†ËøõÊù•</p>
<p>Áõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºöÂ≠êÊü•ËØ¢ÈúÄË¶ÅÁà∂Ë°®Êü•ËØ¢ÁöÑÊüê‰∫õÁªìÊûúÊâçËÉΩÊâßË°å</p>
</blockquote>
<ul>
<li><font color='red'>DEPEDENT UNION„ÄÅDEPEDENT SUBQUERY</font></li>
</ul>
<p>Âú®UNION UNION ALL‰∏≠Â¶ÇÊûúÂÜÖÊü•ËØ¢ÊòØÁõ∏ÂÖ≥Â≠êÊü•ËØ¢ÔºåÂ∞±‰ºö</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2 WHERE key1 = &#x27;a&#x27; UNION SELECT key1 FROM s1 WHERE key1 = &#x27;b&#x27;);<br></code></pre></td></tr></table></figure>

<p><img src="/image/mysql/mysql31.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="DERIVED"><a href="#DERIVED" class="headerlink" title="DERIVED"></a><font color='red'>DERIVED</font></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; EXPLAIN SELECT * FROM (SELECT key1, count(*) as c FROM s1 GROUP BY key1) AS derived_s1 where c &gt; 1;<br></code></pre></td></tr></table></figure>

<p>ÂØπÊ¥æÁîüË°®<code>SELECT key1, count(*) as c FROM s1 GROUP BY key1 </code>ÁöÑÊü•ËØ¢ÔºåÊ¥æÁîüË°®ÂØπÂ∫îÁöÑÂ≠êÊü•ËØ¢typeÂ∞±ÊòØDERIVED</p>
<p><img src="/image/mysql/mysql32.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="MATERIALIZED"><a href="#MATERIALIZED" class="headerlink" title="MATERIALIZED"></a><font color='red'>MATERIALIZED</font></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s1 <span class="hljs-keyword">WHERE</span> key1 <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> key1 <span class="hljs-keyword">FROM</span> s2);<br></code></pre></td></tr></table></figure>

<p><img src="/image/mysql/mysql33.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>Êü•ËØ¢‰ºòÂåñÂô®Â∞ÜÂ≠êÊü•ËØ¢<code>SELECT key1 FROM s2</code>ËøõË°åÊü•ËØ¢Áâ©ÂåñÂêé‰∏éÂ§ñÂ±ÇÊü•ËØ¢ËøõË°åËøûÊé•Êü•ËØ¢</p>
<h3 id="‚ë£partitions"><a href="#‚ë£partitions" class="headerlink" title="‚ë£partitions"></a>‚ë£partitions</h3><p>ÂàÜÂå∫</p>
<h3 id="‚ë§type"><a href="#‚ë§type" class="headerlink" title="‚ë§type"></a><strong>‚ë§type</strong></h3><p>MySQLÈíàÂØπÂçïË°®ÁöÑÊâßË°åÊü•ËØ¢ÁöÑËÆøÈóÆÊñπÊ≥ï„ÄÇÂÆåÊï¥ÁöÑËÆøÈóÆÊñπÊ≥ïÂ¶Ç‰∏ãÔºö <code>system Ôºå const Ôºå eq_ref Ôºå ref Ôºå fulltext Ôºå ref_or_null Ôºåindex_merge Ôºå unique_subquery Ôºå index_subquery Ôºå range Ôºå index Ôºå ALL</code>„ÄÇ</p>
<h4 id="system"><a href="#system" class="headerlink" title="system"></a><font color='red'>system</font></h4><p>ÂΩìË°®‰∏≠Âè™Êúâ‰∏ÄÊù°ËÆ∞ÂΩïÂπ∂‰∏îËøô‰∏™Ë°®ÁöÑÂ≠òÂÇ®ÂºïÊìéÊòØMyIASMÊàñËÄÖMemoryÔºåËøôÊó∂ÁöÑtypeÊòØsystem</p>
<p><img src="/image/mysql/mysql34.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="const"><a href="#const" class="headerlink" title="const"></a><font color='red'>const</font></h4><p>‰∏ªÈîÆprimary key ÊàñËÄÖ<strong>ÂîØ‰∏Ä</strong>‰∫åÁ∫ßÁ¥¢Âºïunion indexÂàó‰∏éÂ∏∏Êï∞ËøõË°åÂåπÈÖçÊó∂ÔºåÂØπÂçïÊ†áÁöÑËÆøÈóÆÊñπÊ≥ïÂ∞±ÊòØconst</p>
<p><img src="/image/mysql/mysql35.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>Ëøô‰∏™Ë°®‰∏≠idÊòØ‰∏ªÈîÆ</p>
<h4 id="eg-ref"><a href="#eg-ref" class="headerlink" title="eg_ref"></a><font color='red'>eg_ref</font></h4><p>Âú®ËøûÊé•Êü•ËØ¢‰∏≠ÔºåÂ¶ÇÊûúË¢´È©±Âä®Ë°®ÊòØÈÄöËøá‰∏ªÈîÆÊàñËÄÖÂîØ‰∏Ä‰∫åÁ∫ßÁ¥¢ÂºïÂàóÁ≠âÂÄºÂåπÈÖçÁöÑÊñπÂºèËøõË°åËÆøÈóÆÔºåÂàôÂØπËØ•Ë¢´È©±Âä®Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ïÊòØeg_ref</p>
<p><img src="/image/mysql/mysql37.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>‰ªéÊâßË°åËÆ°Âàí‰∏≠ÁúãÂá∫Ôºås1‰∏∫È©±Âä®Ë°®Ôºås2‰∏∫Ë¢´È©±Âä®Ë°®ÔºåÂú®ËÆøÈóÆs2Ë°®ÁöÑÊó∂ÂÄôÊòØÈÄöËøá‰∏ªÈîÆÁöÑÁ≠âÂÄºÂåπÈÖçÊù•ËÆøÈóÆÁöÑÔºåÊâÄ‰ª•Ëøô‰∏™Ë°®ÁöÑÊâßË°åÊñπÊ≥ï‰∏∫eg_ref</p>
<blockquote>
<p>join(inner join)„ÄÅleft join„ÄÅright joinÁöÑÂå∫Âà´</p>
<p><img src="/image/mysql/mysql36.png" srcset="/image/beautify/loading.gif" lazyload></p>
</blockquote>
<h4 id="ref„ÄÅref-or-null"><a href="#ref„ÄÅref-or-null" class="headerlink" title="ref„ÄÅref_or_null"></a><font color='red'>ref„ÄÅref_or_null</font></h4><p>ÂΩìÈÄöËøá<strong>ÊôÆÈÄö</strong>‰∫åÁ∫ßÁ¥¢ÂºïÂàó‰∏éÂ∏∏ÈáèËøõË°åÁ≠âÂÄºÂåπÈÖçÊù•Êü•ËØ¢Êüê‰∏™Ë°®ÔºåÈÇ£ÂØπËØ•Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ïÂ∞±ÊòØref</p>
<p><img src="/image/mysql/mysql38.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>Â¶ÇÊûúÂØπÊôÆÈÄö‰∫åÁ∫ßÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÂåπÈÖçÊó∂ÔºåËØ•ÂàóÂèØ‰ª•‰∏∫nullÔºåÂàôÂØπËØ•Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ïÂ∞±ÊòØref_or_null</p>
<p><img src="/image/mysql/mysql39.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="index-merge"><a href="#index-merge" class="headerlink" title="index_merge"></a><font color='red'>index_merge</font></h4><p>ÂΩìÂØπ‰∏§‰∏™ÊôÆÈÄö‰∫åÁ∫ßÁ¥¢ÂºïËøõË°åÁ≠âÂÄºÂåπÈÖçÔºå‰∏î‰∏§‰∏™Á¥¢ÂºïÂØπÂ∫îÁöÑÂàóÁöÑËøûÊé•ÊñπÂºè‰∏∫orÔºåÂàôÂØπËØ•Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ïÂ∞±ÊòØindex_merge</p>
<p><img src="/image/mysql/mysql40.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="unique-subquery"><a href="#unique-subquery" class="headerlink" title="unique_subquery"></a><font color='red'>unique_subquery</font></h4><p>Âú®‰∏Ä‰∫õÂåÖÂê´inÂ≠êÊü•ËØ¢ÁöÑÊü•ËØ¢ËØ≠Âè•‰∏≠ÔºåÂ¶ÇÊûúÊü•ËØ¢‰ºòÂåñÂô®ÂÜ≥ÂÆöÂ∞ÜinÂ≠êÊü•ËØ¢ËΩ¨Âåñ‰∏∫existsÂ≠êÊü•ËØ¢ÔºåËÄå‰∏îÂ≠êÊü•ËØ¢ÂèØ‰ª•‰ΩøÁî®Âà∞‰∏ªÈîÆËøõË°åÁ≠âÂÄºÂåπÈÖçÁöÑËØùÔºåÈÇ£‰πàËØ•Â≠êÊü•ËØ¢ÁöÑÊâßË°åËÆ°ÂàíÁöÑtypeÂ∞±ÊòØunique_subquery</p>
<p><img src="/image/mysql/mysql41.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="range"><a href="#range" class="headerlink" title="range"></a><font color='red'>range</font></h4><p>‰ΩøÁî®Á¥¢ÂºïËé∑ÂèñÊüê‰∫õËåÉÂõ¥Âå∫Èó¥ÁöÑËÆ∞ÂΩïÔºåÂ∞±ÊúâÂèØËÉΩ‰ΩøÁî®Âà∞rangeËÆøÈóÆÊñπÊ≥ï</p>
<p><img src="/image/mysql/mysql42.png" srcset="/image/beautify/loading.gif" lazyload></p>
<h4 id="index"><a href="#index" class="headerlink" title="index"></a><font color='red'>index</font></h4><p>‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÔºå‰ΩÜÈúÄË¶ÅÊâ´ÊèèÂÖ®ÈÉ®ÁöÑÁ¥¢ÂºïËÆ∞ÂΩïÊó∂ÔºåËØ•Ë°®ÁöÑËÆøÈóÆÊñπÊ≥ïÂ∞±ÊòØindex</p>
<p><img src="/image/mysql/mysql43.png" srcset="/image/beautify/loading.gif" lazyload></p>
<blockquote>
<p>‰ªÄ‰πàÊòØ<strong>Ë¶ÜÁõñÁ¥¢ÂºïÔºü</strong></p>
<p>‰∏Ä‰∏™Á¥¢ÂºïÂåÖÂê´‰∫ÜÊª°Ë∂≥Êü•ËØ¢ÁªìÊûúÁöÑÊï∞ÊçÆÂ∞±Âè´ÂÅöË¶ÜÁõñÁ¥¢ÂºïÔºåËøô‰∏™Á¥¢ÂºïÊòØËÅîÂêàÁ¥¢Âºï&#x2F;‰∫åÁ∫ßÁ¥¢ÂºïÔºåÂç≥<code>Á¥¢ÂºïÂàó+‰∏ªÈîÆ</code>ÂåÖÂê´selectÂà∞FROM‰πãÈó¥ÈúÄË¶ÅÊü•ËØ¢ÁöÑÂàó„ÄÇ</p>
<p>ÂÅáÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™Ë°®tÔºåÂÆÉÊúâ3‰∏™ÂàóÔºåc1Ôºåc2Ôºåc3Ôºåc4, ÂÆÉÊúâ‰∏Ä‰∏™‰∫åÁ∫ßÁ¥¢Âºïc2Ôºå‰∏ªÈîÆÁ¥¢Âºïc1ÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™ËØ≠Âè•ÊòØselect * from t  where c2 &#x3D; 1;  ‰ºöÂéª‰∫åÁ∫ßÁ¥¢Âºï‰∏≠ÊâæÔºåÂ¶ÇÊûúÊâæÂà∞‰∫Ü‰∏ÄÊù°Ë°åËÆ∞ÂΩïÔºåÂ∞±ÂèØ‰ª•ÂæóÂà∞c2Ôºåc1ÁöÑÂÄºÔºå‰ΩÜÊòØË¶ÅËøîÂõûÁöÑÁªìÊûúÊòØÂÖ®ÂàóÔºåÂõ†Ê≠§ÈúÄË¶ÅÂõûË°®ÔºåÊâæÂà∞ËÅöÁ∞áÁ¥¢Âºï‰∏≠ÁöÑË°åËÆ∞ÂΩïÔºåÂ∞ÜÂÖ∂ËøîÂõû„ÄÇ</p>
<p>Â¶ÇÊûúÊúâ‰∏Ä‰∏™ËØ≠Âè•ÊòØselect c1,c2 from t  where c2 &#x3D; 1;  Â∞±ÂèØ‰ª•Áõ¥Êé•Âú®‰∫åÁ∫ßÁ¥¢Âºï‰∏≠ÊâæÔºåÊâæÂà∞Â∞±Áõ¥Êé•ËøîÂõûÔºåÂõ†‰∏∫Âú®Ëøô‰∏™Á¥¢ÂºïÂåÖÂê´‰∫ÜÊª°Ë∂≥Êü•ËØ¢ÁªìÊûúÁöÑÊï∞ÊçÆÂàóÔºå<strong>‰∏çÈúÄË¶ÅÂõûË°®ÁöÑÊìç‰Ωú</strong>ÔºåËøôÂ∞±ÊòØË¶ÜÁõñÁ¥¢Âºï</p>
<hr>
<p>Â•ΩÂ§ÑÔºö</p>
<p>1.ÈÅøÂÖçInnoDBË°®ËøõË°åÁ¥¢ÂºïÁöÑ‰∫åÊ¨°Êü•ËØ¢ÔºàÂõûË°®Ôºâ</p>
<p>‰∫åÁ∫ßÁ¥¢ÂºïÂú®Âè∂Â≠êËäÇÁÇπ‰øùÂ≠òÁöÑÊòØÁ¥¢ÂºïÂàóÂíå‰∏ªÈîÆÁöÑË°å‰ø°ÊÅØÔºåÂú®Ë¶ÜÁõñÁ¥¢Âºï‰∏≠Ôºå‰∫åÁ∫ßÁ¥¢ÂºïÁöÑÈîÆÂÄº‰∏≠ÂèØ‰ª•Ëé∑ÂèñÊâÄË¶ÅÁöÑÊï∞ÊçÆÔºåÈÅøÂÖç‰∫ÜÂØπËÅöÁ∞áÁ¥¢ÂºïÁöÑ‰∫åÊ¨°Êü•ËØ¢</p>
<p>2.ÂèØ‰ª•ÊääÈöèÊú∫I&#x2F;OÂèòÊàêÈ°∫Â∫èI&#x2F;OÔºåÂä†Âø´Êü•ËØ¢ÊïàÁéá</p>
<p>Âú®‰∫åÁ∫ßÁ¥¢Âºï‰∏≠Á¥¢ÂºïÂàóÊòØÊåâÈ°∫Â∫èÊéíÁöÑÔºå‰ΩÜÊòØÂõûË°®ÁöÑÊó∂ÂÄôÊòØÊ†πÊçÆ‰∏ªÈîÆÂÄºËøõË°åÊêúÁ¥¢ÁöÑÔºå‰∏çÂêåÁöÑ‰∏ªÈîÆÂÄº‰ªñ‰ª¨‰∏ç‰∏ÄÂÆöÂú®‰∏Ä‰∏™È°µÊàñËÄÖ‰∏Ä‰∏™Âå∫‰∏≠ÔºåÂõ†Ê≠§Ë¶ÅÂä†ËΩΩÁöÑÈ°µÂèØËÉΩ‰πüÊòØ‰∏çÂêåÁöÑÔºåÊâÄ‰ª•ËøôÊòØ‰∏Ä‰∏™ÈöèÊú∫I&#x2F;OÔºåËÄåË¶ÜÁõñÁ¥¢ÂºïÊòØÊåâÈ°∫Â∫èËØªÂèñÈ°µÁöÑÔºåÊòØ‰∏Ä‰∏™È°∫Â∫èI&#x2F;O</p>
</blockquote>
<h4 id="ALL"><a href="#ALL" class="headerlink" title="ALL"></a><font color='red'>ALL</font></h4><p>ÂÖ®Ë°®Êâ´Êèè</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> s1;<br></code></pre></td></tr></table></figure>

<p>ÁªìÊûúÂÄº‰ªéÊúÄÂ•ΩÂà∞ÊúÄÂùè‰æùÊ¨°ÊòØÔºö <code>system &gt; const &gt; eq_ref &gt; ref</code> &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; <code>range &gt; index &gt; ALL</code></p>
<h3 id="‚ë•possible-keysÂíåkey"><a href="#‚ë•possible-keysÂíåkey" class="headerlink" title="‚ë•possible_keysÂíåkey"></a><strong>‚ë•possible_keysÂíåkey</strong></h3><p>possible_keysË°®Á§∫Âú®Êüê‰∏™Êü•ËØ¢ËØ≠Âè•‰∏≠ÔºåÂØπÊüê‰∏™Ë°®ÊâßË°åÂçïÊ†áÊü•ËØ¢Êó∂ÂèØËÉΩÁî®Âà∞ÁöÑÁ¥¢ÂºïÊúâÂì™‰∫õÔºå‰ΩÜ‰∏ç‰∏ÄÂÆöÁúüÊ≠£Ë¢´Êü•ËØ¢‰ΩøÁî®ÔºåkeyÂàóË°®Á§∫ÂÆûÈôÖÁî®Âà∞ÁöÑÁ¥¢ÂºïÊúâÂì™‰∫õÔºåÂ¶ÇÊûú‰∏∫NULLÂàôÊ≤°Êúâ‰ΩøÁî®Á¥¢Âºï„ÄÇ</p>
<h3 id="‚ë¶key-len"><a href="#‚ë¶key-len" class="headerlink" title="‚ë¶key_len"></a><strong>‚ë¶key_len</strong></h3><p>ÂÆûÈôÖ‰ΩøÁî®Âà∞ÁöÑÁ¥¢ÂºïÈïøÂ∫¶(Âç≥ Â≠óËäÇÊï∞)</p>
<p>Â∏Æ‰Ω†Ê£ÄÊü•ÊòØÂê¶ÂÖÖÂàÜÁöÑÂà©Áî®‰∏ä‰∫ÜÁ¥¢ÂºïÔºåÂÄºË∂äÂ§ßË∂äÂ•ΩÔºå‰∏ªË¶ÅÈíàÂØπËÅîÂêàÁ¥¢Âºï„ÄÇ</p>
<ul>
<li>varchar(10)ÂèòÈïøÂ≠óÊÆµ‰∏îÂÖÅËÆ∏NULL &#x3D; 10 * ( character setÔºöutf8&#x3D;3,gbk&#x3D;2,latin1&#x3D;1)+1(NULL)+2(ÂèòÈïøÂ≠óÊÆµ)</li>
<li>varchar(10)ÂèòÈïøÂ≠óÊÆµ‰∏î‰∏çÂÖÅËÆ∏NULL„ÄÇÈïøÂ∫¶&#x3D; 10 * ( character setÔºöutf8&#x3D;3,gbk&#x3D;2,latin1&#x3D;1)+2(ÂèòÈïøÂ≠óÊÆµ)</li>
<li>char(10)Âõ∫ÂÆöÂ≠óÊÆµ‰∏îÂÖÅËÆ∏NULL„ÄÇÈïøÂ∫¶&#x3D; 10 * ( character setÔºöutf8&#x3D;3,gbk&#x3D;2,latin1&#x3D;1)+1(NULL)</li>
<li>char(10)Âõ∫ÂÆöÂ≠óÊÆµ‰∏î‰∏çÂÖÅËÆ∏NULL„ÄÇÈïøÂ∫¶&#x3D; 10 * ( character setÔºöutf8&#x3D;3,gbk&#x3D;2,latin1&#x3D;1)</li>
<li>int‰∏î‰∏çÂÖÅËÆ∏‰∏∫NULL„ÄÇÈïøÂ∫¶&#x3D;4</li>
<li>int‰∏îÂÖÅËÆ∏‰∏∫NULL„ÄÇÈïøÂ∫¶&#x3D;5</li>
</ul>
<h3 id="‚ëßref"><a href="#‚ëßref" class="headerlink" title="‚ëßref"></a><strong>‚ëßref</strong></h3><p>ÂΩì‰ΩøÁî®Á¥¢ÂºïÂàóÁ≠âÂÄºÊü•ËØ¢Êó∂Ôºå‰∏éÁ¥¢ÂºïÂàóËøõË°åÁ≠âÂÄºÂåπÈÖçÁöÑÂØπË±°‰ø°ÊÅØ„ÄÇ</p>
<h3 id="‚ë®rows"><a href="#‚ë®rows" class="headerlink" title="‚ë®rows"></a><strong>‚ë®rows</strong></h3><p>È¢Ñ‰º∞ÁöÑÈúÄË¶ÅËØªÂèñÁöÑËÆ∞ÂΩïÊï∞ÔºåË∂äÂ∞èËØ¥ÊòéËé∑ÂèñÁöÑËÆ∞ÂΩïË∂äÂèØËÉΩÂú®Âêå‰∏ÄÈ°µ‰∏≠ÔºåËøõË°åI&#x2F;OÁöÑÊ¨°Êï∞Â∞±Ë∂äÂ∞ëÔºåÊïàÁéáÂ∞±Ë∂äÈ´ò„ÄÇ</p>
<h3 id="‚ë©filtered"><a href="#‚ë©filtered" class="headerlink" title="‚ë©filtered"></a><strong>‚ë©filtered</strong></h3><p>Êüê‰∏™Ë°®ÁªèËøáwhereÊêúÁ¥¢Êù°‰ª∂ËøáÊª§ÂêéÂâ©‰ΩôËÆ∞ÂΩïÊù°Êï∞ÁöÑÁôæÂàÜÊØî</p>
<h3 id="‚ë™Extra"><a href="#‚ë™Extra" class="headerlink" title="‚ë™Extra"></a><strong>‚ë™Extra</strong></h3><p>Áî®Êù•ËØ¥Êòé‰∏Ä‰∫õÈ¢ùÂ§ñ‰ø°ÊÅØ„ÄÇÊØîÂ¶ÇÊúâÔºö</p>
<h4 id="No-tables-used"><a href="#No-tables-used" class="headerlink" title="No tables used"></a><font color='red'>No tables used</font></h4><p>ÂΩìÊü•ËØ¢ËØ≠Âè•‰∏≠Ê≤°ÊúâFROMÂ≠êÂè•Êó∂‰ºöÊèêÁ§∫Ëøô‰∏™‰ø°ÊÅØ</p>
<p><code>EXPLAIN SELECT 1;</code></p>
<h4 id="Impossible-WHERE"><a href="#Impossible-WHERE" class="headerlink" title="Impossible WHERE"></a><font color='red'>Impossible WHERE</font></h4><p>Êü•ËØ¢ËØ≠Âè•‰∏≠ÁöÑWHEREÂ≠êÂè•Ê∞∏Ëøú‰∏∫FALSEÊó∂</p>
<p><code>EXPLAIN SELECT * FROM s1 WHERE 1 != 1;</code></p>
<h4 id="Using-where"><a href="#Using-where" class="headerlink" title="Using where"></a><font color='red'>Using where</font></h4><p>ÂΩìÂÖ®Ë°®Êâ´ÊèèÊù•ÂØπÊüê‰∏™Ë°®ËøõË°åÊü•ËØ¢Êó∂ÔºåÂπ∂‰∏îËØ•ËØ≠Âè•ÊúâWHEREÔºåwhereÂ≠êÂè•‰∏≠Êü•ËØ¢ÁöÑÂàó‰∏≠Êúâ‰∏çÊòØÁ¥¢ÂºïÁöÑÂàó</p>
<p><code> EXPLAIN SELECT * FROM s1 WHERE common_field = &#39;a&#39;;</code></p>
<p><code>mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 = &#39;a&#39; AND common_field = &#39;a&#39;;</code></p>
<p> EXPLAIN SELECT * FROM s1 WHERE key1 &#x3D; ‚Äòa‚Äô   &#x2F;&#x2F;key1ÊòØ‰∏ªÈîÆÔºå‰ªÖ‰ªÖÊòØËøô‰∏™‰∏ç‰ºöÊúâUsing where</p>
<h4 id="Using-index"><a href="#Using-index" class="headerlink" title="Using index"></a><font color='red'>Using index</font></h4><p>Âç≥<strong>Ë¶ÜÁõñÁ¥¢Âºï</strong>ÔºåÂΩìÊàë‰ª¨Êü•ËØ¢ÂàóË°®‰ª•ÂèäÊêúÁ¥¢Êù°‰ª∂‰∏≠Âè™ÂåÖÂê´Â±û‰∫éÊüê‰∏™Á¥¢ÂºïÁöÑÂàóÔºåÂú®‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÊó∂Âú®ExtraÂàó‰ºöÊèêÁ§∫Ëøô‰∏™È¢ùÂ§ñ‰ø°ÊÅØÔºå‰∏çÈúÄË¶ÅÂõûË°®‰∫Ü</p>
<p><code>mysql&gt; EXPLAIN SELECT key1 FROM s1 WHERE key1 = &#39;a&#39;;</code></p>
<h4 id="Using-index-condition"><a href="#Using-index-condition" class="headerlink" title="Using index condition"></a><font color='red'>Using index condition</font></h4><p><code>mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 &gt; &#39;z&#39; AND key1 LIKE &#39;%b&#39;;</code></p>
<p><img src="/image/mysql/mysql44.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>Âç≥<strong>Á¥¢Âºï‰∏ãÊé®</strong></p>
<blockquote>
<p>Á¥¢ÂºïÊù°‰ª∂‰∏ãÊé®ÔºàICPÔºåIndex Condition PushdownÔºâÔºåÊòØ‰∏ÄÁßçÂú®Â≠òÂÇ®ÂºïÊìéÂ±Ç‰ΩøÁî®Á¥¢ÂºïËøáÊª§Êï∞ÊçÆÁöÑ‰ºòÂåñÊñπÂºè„ÄÇÊõ¥Â§öÈíàÂØπËÅîÂêàÁ¥¢Âºï</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">//Áé∞Âú®tuser‰∏≠Âè™Êúâ‰∏Ä‰∏™ËÅîÂêàÁ¥¢Âºïidx_age_name_address(age,name,address)Ôºå‰∏Ä‰∏™‰∏ªÈîÆÁ¥¢Âºïid<br>SELECT * FROM tuser<br>WHERE age = 10 <br>AND NAME LIKE &#x27;%Âº†%&#x27;<br>AND ismale = 1;<br></code></pre></td></tr></table></figure>

<p>Ê≠§Êó∂Áî®‰∫ÜËÅîÂêàÁ¥¢ÂºïÔºå‰ΩÜ‰ªÖ‰ªÖÊòØageÂàóÔºåÂõ†‰∏∫nameÊòØÊ®°Á≥äÁöÑÔºåÁ¥¢ÂºïÂ§±ÊïàÔºåÂΩìÊü•ËØ¢Êó∂Ôºå‰ºöÈ¶ñÂÖàÂéªËÅîÂêàÁ¥¢ÂºïÁöÑB+Ê†ë‰∏≠Êü•ÊâæageÔºåÊü•Âà∞Â§öÊù°Ë°åËÆ∞ÂΩïÂêéÔºå‰ºöÊé•ÁùÄÁ≠õÈÄâËøôÂá†Êù°ËÆ∞ÂΩï‰∏≠Á¨¶Âêàname like ‚Äò%Âº†%‚ÄôÊù°‰ª∂ÁöÑËÆ∞ÂΩïÔºåÁÑ∂ÂêéÂ∞ÜÂæóÂà∞ÁöÑËÆ∞ÂΩïÂØπÂ∫îÁöÑ‰∏ªÈîÆÂÄºËøõË°åÂõûË°®ÔºåÂØªÊâæÂåπÈÖçËÆ∞ÂΩï„ÄÇËøôÂ∞±ÊòØICP<br>‚ÄîÂ¶ÇÊûúÊ≤°ÊúâICPÔºåÂ∫îËØ•ÊòØÂú®Êü•ËØ¢Êó∂ÔºåÊ†πÊçÆËÅîÂêàÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊü•ËØ¢Âà∞Â§öÊù°ËÆ∞ÂΩïÔºå‰ºöÁõ¥Êé•ÂõûË°®ÔºåÁÑ∂ÂêéÂú®‰∏ªÈîÆÁ¥¢ÂºïÁöÑÊª°Ë∂≥Ëøô‰∫õidÁöÑËÆ∞ÂΩï‰∏≠Êü•ÊâæÁ¨¶Âêàname like ‚Äò%Âº†%‚ÄôÂíåismale &#x3D; 1ÁöÑËÆ∞ÂΩïÔºåÁõ∏ÂΩì‰∫éÂõûË°®ÈúÄË¶ÅÁöÑI&#x2F;OÊ¨°Êï∞ÂæàÂèØËÉΩÊØîICPÁöÑÂ§öÔºåÂõ†‰∏∫ÂõûË°®ÁöÑËÆ∞ÂΩïÊï∞Â§ö„ÄÇ</p>
<p>ICPÁöÑ <code>Âä†ÈÄüÊïàÊûú</code> ÂèñÂÜ≥‰∫éÂú®Â≠òÂÇ®ÂºïÊìéÂÜÖÈÄöËøá <code>ICPÁ≠õÈÄâ</code> ÊéâÁöÑÊï∞ÊçÆÁöÑÊØî‰æã„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãICPÊòØÊâìÂºÄÁöÑÔºå‰πüÂèØ‰ª•ÈÄöËøáSQLÂëΩ‰ª§ÊâìÂºÄÊàñÂÖ≥Èó≠</p>
</blockquote>
<h4 id="Using-filesort"><a href="#Using-filesort" class="headerlink" title="Using filesort"></a>Using filesort</h4><p><code>mysql&gt; EXPLAIN SELECT * FROM s1 ORDER BY common_field LIMIT 10;</code></p>
<p>ÂΩìÊéíÂ∫èÊìç‰ΩúORDER BYÊó†Ê≥ï‰ΩøÁî®Âà∞Á¥¢ÂºïÔºåÂè™ËÉΩÂú®ÂÜÖÂ≠ò‰∏≠ÊàñËÄÖÁ£ÅÁõò‰∏≠ËøõË°åÊéíÂ∫èÔºåMysqlÊääËøôÁßçÂú®ÂÜÖÂ≠ò‰∏≠ÊàñËÄÖÁ£ÅÁõò‰∏≠ËøõË°åÊéíÂ∫èÁöÑÊñπÂºèÁß∞‰∏∫Êñá‰ª∂ÊéíÂ∫è(filesort)ÔºåÈùûÂ∏∏ËÄóË¥πÊÄßËÉΩÔºåÊúÄÂ•ΩÊÉ≥ÂäûÊ≥ïÂ∞Ü‰ΩøÁî®Êñá‰ª∂ÊéíÂ∫èÁöÑÊâßË°åÊñπÂºèÊîπ‰∏∫‰ΩøÁî®Á¥¢ÂºïËøõË°åÊéíÂ∫èÔºåExtra&#x3D;Using filesort</p>
<p><code>mysql&gt; EXPLAIN SELECT * FROM s1 ORDER BY key1 LIMIT 10;</code></p>
<p>Áî±‰∫éÂú®key1‰∏äÊúâÁ¥¢Âºïidx_key1ÔºåÊâÄ‰ª•Ëøô‰∏™ËØ≠Âè•ÂèØ‰ª•‰ΩøÁî®idx_key1Á¥¢ÂºïÁõ¥Êé•ÂèñÂá∫key1ÁöÑ10Êù°Êï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçËøõË°åÂõûË°®„ÄÇÊ≠§Êó∂ÊòæÁ§∫ÁöÑExtra&#x3D;NULL</p>
<h2 id="3-2-EXPLAINÁöÑÂõõÁßçËæìÂá∫Ê†ºÂºè"><a href="#3-2-EXPLAINÁöÑÂõõÁßçËæìÂá∫Ê†ºÂºè" class="headerlink" title="3.2 EXPLAINÁöÑÂõõÁßçËæìÂá∫Ê†ºÂºè"></a>3.2 EXPLAINÁöÑÂõõÁßçËæìÂá∫Ê†ºÂºè</h2><ol>
<li><p>‰º†ÁªüÊ†ºÂºè</p>
<p>explain select * from s1 order by key1 limit 10;</p>
<p>ËæìÂá∫Ê†ºÂºèÂ∞±ÊòØ‰∏äÈù¢‰∏ÄÁõ¥ÁúãÂà∞ÁöÑÈÇ£ÁßçË°®Ê†º</p>
</li>
<li><p>jsonÊ†ºÂºè</p>
<p>explain format&#x3D;json select * from s1 order by key1 limit 10;</p>
<p>ËæìÂá∫Ê†ºÂºèÊòØjsonÔºåÊØî‰º†ÁªüÊ†ºÂºèÁöÑ‰ø°ÊÅØÊõ¥ÂÖ®Èù¢ÔºåÂåÖÊã¨Êü•ËØ¢ÊàêÊú¨</p>
</li>
<li><p>TreeÊ†ºÂºè</p>
<p>explain format&#x3D;tree select * from s1 order by key1 limit 10;</p>
<p>Â±ïÁ§∫Â±ÇÊ¨°ÁªìÊûÑ</p>
</li>
<li><p>ÂèØËßÜÂåñËæìÂá∫</p>
<p>‰ΩøÁî®MySQL WorkbenchÂèØËßÜÂåñÊü•ÁúãMySQLÁöÑÊâßË°åËÆ°Âàí</p>
</li>
</ol>
<h1 id="4-Á¥¢Âºï‰ºòÂåñÂíåÊü•ËØ¢‰ºòÂåñ"><a href="#4-Á¥¢Âºï‰ºòÂåñÂíåÊü•ËØ¢‰ºòÂåñ" class="headerlink" title="4.Á¥¢Âºï‰ºòÂåñÂíåÊü•ËØ¢‰ºòÂåñ"></a>4.Á¥¢Âºï‰ºòÂåñÂíåÊü•ËØ¢‰ºòÂåñ</h1><h2 id="4-1-Á¥¢ÂºïÂ§±ÊïàÁöÑ‰æãÂ≠ê"><a href="#4-1-Á¥¢ÂºïÂ§±ÊïàÁöÑ‰æãÂ≠ê" class="headerlink" title="4.1 Á¥¢ÂºïÂ§±ÊïàÁöÑ‰æãÂ≠ê"></a>4.1 Á¥¢ÂºïÂ§±ÊïàÁöÑ‰æãÂ≠ê</h2><ol>
<li><p>‰∏çÁ¨¶ÂêàÊúÄ‰Ω≥Â∑¶ÂâçÁºÄÊ≥ïÂàô</p>
<p>Á¥¢ÂºïÊñá‰ª∂ÂÖ∑Êúâ B-Tree ÁöÑÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÁâπÊÄßÔºåÂ¶ÇÊûúÂ∑¶ËæπÁöÑÂÄºÊú™Á°ÆÂÆöÔºåÈÇ£‰πàÊó†Ê≥ï‰ΩøÁî®Ê≠§Á¥¢Âºï„ÄÇ</p>
</li>
<li><p>ËÆ°ÁÆó„ÄÅÂáΩÊï∞„ÄÅÁ±ªÂûãËΩ¨Êç¢(Ëá™Âä®ÊàñÊâãÂä®)ÂØºËá¥Á¥¢ÂºïÂ§±Êïà</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># ÂáΩÊï∞<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE LEFT(student.name,3) = &#x27;abc&#x27;;<br># ËÆ°ÁÆó<br>CREATE INDEX idx_sno ON student(stuno);<br>EXPLAIN SELECT SQL_NO_CACHE id, stuno, NAME FROM student WHERE stuno+1 = 900001;<br># ÂÅáËÆænameÂ≠óÊÆµ‰∏äËÆæÁΩÆÊúâÁ¥¢Âºï,‰ΩÜÊòØÁî±‰∫éÁ±ªÂûãËΩ¨Êç¢ÔºåÊú™‰ΩøÁî®Âà∞Á¥¢Âºï<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE name=123;#ÈöêÂºèÁöÑÁ±ªÂûãËΩ¨Êç¢<br></code></pre></td></tr></table></figure>
</li>
<li><p>ËåÉÂõ¥Êù°‰ª∂Âè≥ËæπÁöÑÂàóÁ¥¢ÂºïÂ§±Êïà</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">ALTER TABLE student DROP INDEX idx_name;<br>ALTER TABLE student DROP INDEX idx_age;<br>ALTER TABLE student DROP INDEX idx_age_classid;<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student<br>WHERE student.age=30 AND student.classId&gt;20 AND student.name = &#x27;abc&#x27; ;<br># student.classId&gt;20ÁöÑÂè≥‰æßÁöÑstudent.name = &#x27;abc&#x27;ÁöÑÁ¥¢ÂºïÂ∞±‰ºöÂ§±Êïà<br>create index idx_age_name_classid on student(age,name,classid);<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE student.age=30 AND student.name = &#x27;abc&#x27; AND student.classId&gt;20 ;<br>#Áõ¥Êé•‰∫§Êç¢sqlËØ≠Âè•ÁöÑ‰ΩçÁΩÆÊòØÊ≤°ÊúâÁî®ÁöÑÔºåÈúÄË¶ÅÊîπÂèòËÅîÂêàÁ¥¢ÂºïÁöÑ‰ΩçÁΩÆ<br></code></pre></td></tr></table></figure>
</li>
<li><p>‰∏çÁ≠â‰∫é(!&#x3D; ÊàñËÄÖ&lt;&gt;)Á¥¢ÂºïÂ§±Êïà</p>
<p>ÂΩìsqlËØ≠Âè•‰∏≠Êúâ!&#x3D;ÊàñËÄÖ&lt;&gt;‰ºöÂá∫Áé∞Á¥¢ÂºïÂ§±ÊïàÁöÑÈóÆÈ¢òÔºåÂ∞ùËØïÊîπÂÜô‰∏∫<code>Á≠â‰∫é</code>ÔºåÊàñÈááÁî®<code>Ë¶ÜÁõñÁ¥¢Âºï</code></p>
</li>
<li><p>is nullÂèØ‰ª•‰ΩøÁî®Á¥¢ÂºïÔºåis not nullÊó†Ê≥ï‰ΩøÁî®Á¥¢Âºï</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE age IS NULL;<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE age IS NOT NULL;<br></code></pre></td></tr></table></figure>

<p><img src="/image/mysql/mysql47.png" srcset="/image/beautify/loading.gif" lazyload></p>
</li>
<li><p>like‰ª•ÈÄöÈÖçÁ¨¶%ÂºÄÂ§¥Á¥¢ÂºïÂ§±Êïà</p>
</li>
</ol>
<p><img src="/image/mysql/mysql46.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>„ÄêÂº∫Âà∂„ÄëÈ°µÈù¢ÊêúÁ¥¢‰∏•Á¶Å<code>Â∑¶Ê®°Á≥ä</code>ÊàñËÄÖ<code>ÂÖ®Ê®°Á≥ä</code>ÔºåÂ¶ÇÊûúÈúÄË¶ÅËØ∑Ëµ∞ÊêúÁ¥¢ÂºïÊìéÊù•Ëß£ÂÜ≥„ÄÇ</p>
<ol start="7">
<li><p>OR ÂâçÂêéÂ≠òÂú®ÈùûÁ¥¢ÂºïÁöÑÂàóÔºåÁ¥¢ÂºïÂ§±Êïà</p>
<p>ËÆ©<code>ORÁöÑÂâçÂêéÊù°‰ª∂</code>ÈÉΩÂÖ∑Â§áÁ¥¢ÂºïÔºåÂ¶ÇÊûúÁº∫Â∞ë‰∏Ä‰∏™Â∞±‰ºöÂá∫Áé∞Á¥¢ÂºïÂ§±Êïà</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># ageÊòØ‰∫åÁ∫ßÁ¥¢ÂºïÔºåclassidÊòØÊôÆÈÄöÂàóÔºåÊú™‰ΩøÁî®Âà∞ageÁ¥¢Âºï<br>EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE age = 10 OR classid = 100;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="4-2-Â§ñËøûÊé•ÂíåÂÜÖËøûÊé•ÁöÑÊü•ËØ¢‰ºòÂåñ"><a href="#4-2-Â§ñËøûÊé•ÂíåÂÜÖËøûÊé•ÁöÑÊü•ËØ¢‰ºòÂåñ" class="headerlink" title="4.2 Â§ñËøûÊé•ÂíåÂÜÖËøûÊé•ÁöÑÊü•ËØ¢‰ºòÂåñ"></a>4.2 Â§ñËøûÊé•ÂíåÂÜÖËøûÊé•ÁöÑÊü•ËØ¢‰ºòÂåñ</h2><p>È©±Âä®Ë°®ÊòØ‰∏ªË°®ÔºåË¢´È©±Âä®Ë°®ÊòØ‰ªéË°®</p>
<h3 id="4-2-1-Â§ñËøûÊé•"><a href="#4-2-1-Â§ñËøûÊé•" class="headerlink" title="4.2.1 Â§ñËøûÊé•"></a>4.2.1 Â§ñËøûÊé•</h3><p>ÂàöÂºÄÂßãÊâÄÊúâÂ≠óÊÆµÈÉΩÊ≤°ÊúâÂä†Á¥¢Âºï</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">EXPLAIN SELECT SQL_NO_CACHE * FROM name LEFT JOIN book ON type.card = book.card;<br></code></pre></td></tr></table></figure>

<p>left join ÁöÑÊâßË°åËøáÁ®ãÊòØÂÖàÂú®typeË°®‰∏≠Âèñ‰∏Ä‰∏™Ë°åÔºåÁÑ∂ÂêéÂåπÈÖçÊâÄÊúâÁöÑbookË°®‰∏≠ÁöÑÊï∞ÊçÆÔºåÁúãÂì™‰∏ÄË°åÊï∞ÊçÆÁ¨¶Âêàname.card &#x3D; book.card; ÂÅáÂ¶ÇtypeË°®‰∏≠Êúâ20Ë°åÊï∞ÊçÆÔºåbookË°®‰∏≠Êúâ30Ë°åÊï∞ÊçÆÔºåÂàô‰∏ÄÂÖ±Ë¶ÅÊü•ËØ¢20*30&#x3D;600Ê¨°„ÄÇnameÊòØÈ©±Âä®Ë°®ÔºåbookÊòØË¢´È©±Âä®Ë°®„ÄÇ</p>
<p>ÁªìÊûúÊòØÔºö‰∏§Ë°åË°®Ê†ºÁöÑtypeÈÉΩ‰∏∫ALLÔºåÂÖ®Ë°®Êâ´ÊèèÔºåÊ≤°Êúâ‰ΩøÁî®‰ªª‰ΩïÁ¥¢Âºï„ÄÇ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">ALTER TABLE book ADD INDEX Y ( card);  #„ÄêË¢´È©±Âä®Ë°®„ÄëÔºåÂèØ‰ª•ÈÅøÂÖçÂÖ®Ë°®Êâ´Êèè<br>EXPLAIN SELECT SQL_NO_CACHE * FROM name LEFT JOIN book ON type.card = book.card;<br></code></pre></td></tr></table></figure>

<p>ÁªìÊûúÊòØÔºöbookË°®ÂØπÂ∫îÁöÑÈÇ£‰∏ÄË°åÁöÑtypeÂ±ûÊÄßÁöÑÂÄºÊòØrefÔºå‰ΩøÁî®‰∏ä‰∫Ü‰∫åÁ∫ßÁ¥¢ÂºïÔºåËøôÊ†∑ÂΩìÈ©±Âä®Ë°®ÈÄâÂÆö‰∏ÄË°åÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•Áõ¥Êé•‰ªéË¢´È©±Âä®Ë°®ÁöÑB+Ê†ë‰∏äÁõ¥Êé•ÂÆö‰ΩçÂà∞ÁõÆÊ†áÂÄº(lognÁ∫ßÂà´)Ôºå‰ΩÜÊòØÈ©±Âä®Ë°®Êó†Ê≥ïÈÅøÂÖçÂÖ®Ë°®Êâ´Êèè(Âä†Á¥¢ÂºïÂíå‰∏çÂä†Á¥¢ÂºïÈÉΩÊòØ)</p>
<p>ÂØπ‰∫éÂ§ñËøûÊé•Ôºåname‰πü‰∏ç‰∏ÄÂÆöÈÉΩÊòØÈ©±Âä®Ë°®ÔºåÂõ†‰∏∫Êü•ËØ¢‰ºòÂåñÂô®‰ºöÂ∞ÜËØ≠Âè•‰ºòÂåñ‰∏∫ÂÜÖËøûÊé•ÔºåÊâÄ‰ª•Ë∞Å‰Ωú‰∏∫È©±Âä®Ë°®‰∏ç‰∏ÄÂÆö„ÄÇ</p>
<h3 id="4-2-2-ÂÜÖËøûÊé•"><a href="#4-2-2-ÂÜÖËøûÊé•" class="headerlink" title="4.2.2 ÂÜÖËøûÊé•"></a>4.2.2 ÂÜÖËøûÊé•</h3><p> inner joinÔºà<code>MySQLÁöÑÊü•ËØ¢‰ºòÂåñÂô®ÂèØ‰ª•ÂÜ≥ÂÆöË∞Å‰Ωú‰∏∫È©±Âä®Ë°®ÂíåË¢´È©±Âä®Ë°®</code>Ôºâ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">EXPLAIN  SELECT SQL_NO_CACHE * FROM type INNER JOIN book ON type.card=book.card; <br></code></pre></td></tr></table></figure>

<p>Â¶ÇÊûúnameË°®‰∏äÁöÑcardÊúâÁ¥¢ÂºïÔºåËÄåbookË°®‰∏äÁöÑcardÊ≤°ÊúâÔºåÂàônameÊòØË¢´È©±Âä®Ë°®</p>
<p>Â¶ÇÊûúbookË°®‰∏äÁöÑcardÊúâÁ¥¢ÂºïÔºåËÄånameË°®‰∏äÁöÑcardÊ≤°ÊúâÔºåÂàôbookÊòØË¢´È©±Âä®Ë°®</p>
<p>Â¶ÇÊûúÈÉΩÊúâÁ¥¢ÂºïÔºåÂàôMySQL‰ºöËØÑÂà§ÈÄâÊã©Âì™‰∏™Ë°®‰Ωú‰∏∫È©±Âä®Ë°®ÊïàÁéáÊõ¥È´òÔºåÂ∞±ÈÄâÊã©Âì™‰∏™Ë°®</p>
<p>Â¶ÇÊûúÈÉΩÊ≤°ÊúâÁ¥¢ÂºïÔºåÂàôÂ∞èË°®È©±Âä®Â§ßË°®„ÄÇÔºàÂ∞èÁöÑÁªìÊûúÈõÜÈ©±Âä®Â§ßÁöÑÁªìÊûúÈõÜÔºåÁªèËøáwhereÊù°‰ª∂Á≠õÈÄâÂá∫Êù•ÁöÑÁªìÊûúÈõÜÂì™‰∏Ä‰∏™Â∞èÔºåÂì™‰∏Ä‰∏™Ë°®Â∞±ÊòØÂ∞èË°®„ÄÇÂç≥‰∏§‰∏™Ë°®ÊåâÁÖßÂêÑËá™ÁöÑÊù°‰ª∂ËøáÊª§ÔºåËøáÊª§ÂÆåÊàê‰πãÂêéÔºåËÆ°ÁÆóÂèÇ‰∏éjoinÁöÑÂêÑ‰∏™Â≠óÊÆµÁöÑÊÄªÊï∞ÊçÆÈáèÔºåÊï∞ÊçÆÈáèÂ∞èÁöÑÈÇ£‰∏™Ë°®ÔºåÂ∞±ÊòØ‚ÄúÂ∞èË°®‚Äù„ÄÇÔºâ</p>
<p>Êü•ËØ¢‰ºòÂåñÂô®‰ºòÂåñÂêéÁöÑexplainÁöÑÁªìÊûú‰∏≠Ôºå‰∏äÈù¢ÁöÑÊòØÈ©±Âä®Ë°®Ôºå‰∏ãÈù¢ÊòØË¢´È©±Âä®Ë°®</p>
<h3 id="4-2-3-JOINÂéüÁêÜ"><a href="#4-2-3-JOINÂéüÁêÜ" class="headerlink" title="4.2.3 JOINÂéüÁêÜ"></a>4.2.3 JOINÂéüÁêÜ</h3><ol>
<li>Á¥¢ÂºïÂµåÂ•óÂæ™ÁéØËøûÊé•(Index  Nested-Loop Join)</li>
</ol>
<p>ÂÅáÂ¶ÇÔºöÈ©±Âä®Ë°®ÊòØt1ÔºåË¢´È©±Âä®Ë°®ÊòØt2ÔºåË¢´È©±Âä®Ë°®t2ÁöÑÂ≠óÊÆµa‰∏äÊúâÁ¥¢ÂºïÔºåjoinËøáÁ®ãÁî®‰∏ä‰∫ÜËøô‰∏™Á¥¢ÂºïÔºåÂàôinner joinÁöÑÊâßË°åËøáÁ®ãÊòØÔºö</p>
<ol>
<li>‰ªéË°®t1‰∏≠ËØªÂÖ•‰∏ÄË°åÊï∞ÊçÆ RÔºõ</li>
<li>‰ªéÊï∞ÊçÆË°åR‰∏≠ÔºåÂèñÂá∫aÂ≠óÊÆµÂà∞Ë°®t2ÈáåÂéªÊü•ÊâæÔºõ</li>
<li>ÂèñÂá∫Ë°®t2‰∏≠Êª°Ë∂≥Êù°‰ª∂ÁöÑË°åÔºåË∑üRÁªÑÊàê‰∏ÄË°åÔºå‰Ωú‰∏∫ÁªìÊûúÈõÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºõ</li>
<li>ÈáçÂ§çÊâßË°åÊ≠•È™§1Âà∞3ÔºåÁõ¥Âà∞Ë°®t1ÁöÑÊú´Â∞æÂæ™ÁéØÁªìÊùü„ÄÇ</li>
</ol>
<p><img src="/image/mysql/mysql48.png" srcset="/image/beautify/loading.gif" lazyload></p>
<blockquote>
<p>ÂõæÁâáÊù•Ê∫êÔºö<a target="_blank" rel="noopener" href="https://achang.blog.csdn.net/article/details/122655136">https://achang.blog.csdn.net/article/details/122655136</a></p>
</blockquote>
<ol start="2">
<li>ÂùóÂµåÂ•óÂæ™ÁéØËøûÊé•(Blocked Nested-Loop join)</li>
</ol>
<p>‰∏çÂÜçÊòØÈÄêÊù°Ëé∑ÂèñÈ©±Âä®Ë°®ÁöÑÊï∞ÊçÆÔºåËÄåÊòØ‰∏ÄÂùó‰∏ÄÂùóÁöÑËé∑ÂèñÔºåÂºïÁî®‰∫Üjoin bufferÁºìÂÜ≤Âå∫ÔºåÂ∞ÜÈ©±Âä®Ë°®joinÁõ∏ÂÖ≥ÁöÑÈÉ®ÂàÜÊï∞ÊçÆÂàóÁºìÂ≠òÂà∞join buffer‰∏≠ÔºåË¢´È©±Âä®Ë°®‰∏≠ÁöÑËÆ∞ÂΩï‰∏ÄÊ¨°ÊÄßÂíåÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊØîËæÉÔºåÈôç‰Ωé‰∫ÜË¢´È©±Âä®Ë°®ÁöÑËÆøÈóÆÈ¢ëÁéá</p>
<p><img src="/image/mysql/mysql49.png" srcset="/image/beautify/loading.gif" lazyload></p>
<p>ËøôÊòØÊ≤°ÊúâÁ¥¢ÂºïÁöÑÊÉÖÂÜµ</p>
<p>ÊïàÁéáÔºöÁ¥¢ÂºïÂµåÂ•óÂæ™ÁéØËøûÊé• &gt; ÂùóÂµåÂ•óÂæ™ÁéØËøûÊé•</p>
<h2 id="4-3-Â≠êÊü•ËØ¢‰ºòÂåñ"><a href="#4-3-Â≠êÊü•ËØ¢‰ºòÂåñ" class="headerlink" title="4.3 Â≠êÊü•ËØ¢‰ºòÂåñ"></a>4.3 Â≠êÊü•ËØ¢‰ºòÂåñ</h2><p>Â≠êÊü•ËØ¢ÊïàÁéáÊØîËæÉ‰ΩéÔºåÂõ†‰∏∫Êü•ËØ¢‰ºòÂåñÂô®ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Ë°®ÔºåÂ∏ÆÂä©Á≠õÈÄâÔºåÁªìÊùüÂêé‰ºöÂÜçÊí§ÈîÄ‰∏¥Êó∂Ë°®ÔºåÊØîËæÉÊ∂àËÄóÊÄßËÉΩÔºåÊúÄÂ•ΩÂ∞ÜÂ≠êÊü•ËØ¢Êîπ‰∏∫joinËøûÊé•Â§öË°®Êü•ËØ¢ÔºåËøôÊ†∑‰∏çÁî®Âª∫Á´ã‰∏¥Êó∂Ë°®„ÄÇ</p>
<p>Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî®NOT IN ÊàñËÄÖ NOT EXISTSÔºåÁî®LEFT JOIN xxx ON xx WHERE xx IS NULLÊõø‰ª£</p>
<h2 id="4-4-ÊéíÂ∫è‰ºòÂåñ"><a href="#4-4-ÊéíÂ∫è‰ºòÂåñ" class="headerlink" title="4.4 ÊéíÂ∫è‰ºòÂåñ"></a>4.4 ÊéíÂ∫è‰ºòÂåñ</h2><p>SQL‰∏≠ÔºåÂú®WHEREÂ≠êÂè•‰∏≠ÊúÄÂ•Ω‰ΩøÁî®Á¥¢ÂºïÔºåÈÅøÂÖçÂÖ®Ë°®Êâ´ÊèèÔºåÂú®ORDER BY Â≠êÂè•‰∏≠ÊúÄÂ•Ω‰ΩøÁî®Á¥¢ÂºïÔºåÈÅøÂÖçFilesortÊéíÂ∫è„ÄÇ</p>
<p>Â∞ΩÈáè‰ΩøÁî® Index ÂÆåÊàê ORDER BY ÊéíÂ∫è„ÄÇÂ¶ÇÊûú WHERE Âíå ORDER BY ÂêéÈù¢ÊòØÁõ∏ÂêåÁöÑÂàóÂ∞±‰ΩøÁî®ÂçïÁ¥¢ÂºïÂàóÔºõÂ¶ÇÊûú‰∏çÂêåÂ∞±‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï„ÄÇ</p>
<blockquote>
<p><strong>MySQL‰∏≠ÊîØÊåÅ‰∏§ÁßçÊéíÂ∫èÔºåFileSortÂíåIndex</strong></p>
<p>IndexÊéíÂ∫è‰∏≠ÔºåÁ¥¢ÂºïÂèØ‰ª•‰øùËØÅÊï∞ÊçÆÁöÑÊúâÂ∫èÊÄßÔºå‰∏çÈúÄË¶ÅÂÜçËøõË°åÊéíÂ∫èÔºåÊïàÁéáÊõ¥È´ò„ÄÇ</p>
<p>FileSortÊéíÂ∫èÂàô‰∏ÄËà¨Âú®ÂÜÖÂ≠òÊàñÁ£ÅÁõò‰∏≠ËøõË°åÊéíÂ∫èÔºåÂç†Áî®CPUËæÉÂ§öÔºåÂ¶ÇÊûúÂæÖÊéíÂ∫èÁªìÊûúËæÉÂ§ßÔºå‰ºö‰∫ßÁîü‰∏¥Êó∂Êñá‰ª∂I&#x2F;OÂà∞Á£ÅÁõòËøõË°åÊéíÂ∫èÁöÑÊÉÖÂÜµÔºåÊïàÁéáËæÉ‰Ωé„ÄÇ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; EXPLAIN SELECT SQL_NO_CACHE * FROM student WHERE age = 30 AND stuno &lt;101000 ORDER BY NAME;<br>#‰∏∫‰∫ÜÂéªÊéâfilesortÊàë‰ª¨ÂèØ‰ª•ÊääÁ¥¢ÂºïÂª∫Êàê<br>CREATE INDEX idx_age_name ON student(age,NAME);<br></code></pre></td></tr></table></figure>

<p>Â¶ÇÊûúÊó¢Êúâwhere ÂèàÊúâorder byÔºåÂèØËÉΩÊòØÂÖàËøáÊª§where‰∏≠ÁöÑÊù°‰ª∂ÔºåÁÑ∂ÂêéÂÜçËøõË°åorder byÔºåÂ¶ÇÊûúËøáÊª§ÂÆåËÆ∞ÂΩïÂ∞±‰∏çÂ§™Â§ö‰∫ÜÔºåÂèØËÉΩ‰∏ç‰ºö‰ΩøÁî®Ëøô‰∏™order byÁöÑÁ¥¢ÂºïÔºå‰πüÂèØËÉΩÊòØÂÖàËøõË°åorder byÔºåÂÜçwhereÔºåËøôÂÆåÂÖ®ÊòØÊ†πÊçÆÊü•ËØ¢‰ºòÂåñÂô®ÁöÑÂÜ≥ÂÆö„ÄÇ</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/MySQL/" class="category-chain-item">MySQL</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Linux/" class="print-no-link">#Linux</a>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%AB%98%E7%BA%A7/" class="print-no-link">#Êï∞ÊçÆÂ∫ìÈ´òÁ∫ß</a>
      
        <a href="/tags/EXPLAIN/" class="print-no-link">#EXPLAIN</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MySQL-Êï∞ÊçÆÂ∫ìË∞É‰ºò</div>
      <div>https://vickkkyz.fun/2022/04/07/ËÆ°ÁÆóÊú∫/mysql/Êï∞ÊçÆÂ∫ìË∞ÉÂåñ/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>Vickkkyz</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2022Âπ¥4Êúà7Êó•</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>ËÆ∏ÂèØÂçèËÆÆ</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/InnoDB%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/" title="MySQL-InnoDB‰∏≠Êï∞ÊçÆÂ≠òÂÇ®ÁªìÊûÑ(È°µ)">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">MySQL-InnoDB‰∏≠Êï∞ÊçÆÂ≠òÂÇ®ÁªìÊûÑ(È°µ)</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/07/%E8%AE%A1%E7%AE%97%E6%9C%BA/mysql/%E4%BA%8B%E5%8A%A1/" title="MySQL-‰∫ãÂä°">
                        <span class="hidden-mobile">MySQL-‰∫ãÂä°</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ÁõÆÂΩï</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
<!-- Load TweenLite --> <script src="https://cdn.jsdelivr.net/npm/greensock@1.20.2/dist/TweenLite.js"></script>
<!-- Copyrighted cubism SDK --> <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script> <!-- Load Pixi (dependency for cubism 2/4 integrated loader) --> <script src="https://cdn.jsdelivr.net/npm/pixi.js@5.3.6/dist/pixi.min.js"></script> <!-- Load cubism 4 integrated loader --> <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display@0.3.1/dist/cubism4.min.js"></script>
<!-- Load pio and alternative loader --> <link href="https://cdn.jsdelivr.net/gh/vickkkyz/vickkkyz.github.io@2.0/css/pio.css" rel="stylesheet" type="text/css"/> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/pio.js"></script> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/pio_sdk4.js"></script> <script src="https://cdn.jsdelivr.net/gh/journey-ad/blog-img@76ba2b3/live2d/lib/load.js"></script>
<!-- È°µËÑöÊ∑ªÂä†ÁΩëÁ´ôËøêË°åÊó∂Èó¥ --> <div> <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span> <span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span> <script src="/js/duration.js"></script> </div> <a href="https://icp.gov.moe/?keyword=20249336" target="_blank">ËêåICPÂ§á20249336Âè∑</a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>




  
<script src="https://cdn.jsdelivr.net/gh/bynotes/texiao/source/js/yinghua.js"></script>



<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script><!-- hexo injector body_end end --></body>
</html>
